network pl subprogram april mark krilanovich comput research lab univers california santa barbara california page rfc network pl subprogram prefac subroutin describ document implement ucsb make network via ncp access pl program execut callabl within pl main program subroutin compil ucsb set assembl languag written subprogram provid facilit use network by pl programm serv interfac between user network control program ncp supervis network oper site concept fundament pl network oper complet code variabl associ with socket close state uniqu variabl call complet code variabl variabl serv purpos identifi local socket referenc complet oper contain complet code indic outcom oper programm use time purpos than network oper valu begin network oper immateri variabl import network oper complet code variabl call accept attribut variabl binari fix align general subprogram initi oper enter wait state consum cpu time until notifi by ncp complet oper oper programm suppli time limit with attribut binari fix specifi tenth second maximum length time subprogram wait oper complet time limit exceed complet code suppli indic error control return call program with oper still pend oper requir socket specifi by socket identifi follow format use identifi specifi binari fix array singl dimens with element with lower subscript bound element taken site number second element socket number socket number valu posit negat negat number repres intern complement form purpos gender socket socket number odd absolut valu odd respect page rfc network pl subprogram follow descript subprogram function call sequenc open by invok subprogram user request specifi local socket remov close state prepar particip data transfer distinct oper can perform by subprogram describ below connect by initi oper user request specifi local socket logic connect specifi foreign socket data transfer between socket enabl subprogram wait until foreign socket accept reject connect attempt oper valid socket close state call sequenc follow call open cmpcd time lclsck fgnsck ws cmpcd complet code variabl associ with local socket time length time subprogram wait complet oper lclsck socket identifi local socket fgnsck socket identifi foreign socket ws workspac same attribut socket identifi oper success becom associ with local socket life connect respons certain futur oper inform return programm workspac follow complet code possibl oper oper success connect establish specifi complet code variabl assign socket oper suppress specifi local socket close page rfc network pl subprogram state oper suppress communic path specifi foreign site use oper suppress local resourc insuffici support connect oper suppress connect attempt reject by foreign process specifi local socket local ucsb oper suppress specifi foreign site invalid oper suppress address protect except encount with respect specifi workspac oper suppress hardwar foreign site inop ncp counterpart foreign site exist fail local foreign socket both send receiv socket oper suppress by oper command network oper termin socket close ncp control transmiss error occur oper suppress specifi time limit exceed oper initi but complet listen oper request notif connect attempt direct toward specifi local socket subprogram wait until call receiv time call process socket identifi return call program oper valid design local socket close state call sequenc follow call open cmpcd time lclsck ws cmpcd complet code variabl associ with local socket time length time subprogram wait complet oper lclsck socket identifi local socket ws workspac oper success contain socket identifi call socket becom associ with page rfc network pl subprogram local socket life connect ws same attribut socket identifi follow complet code possibl oper oper success call receiv specifi complet code variabl assign socket oper suppress specifi local socket close state oper suppress local resourc insuffici support connect oper suppress specifi local socket local ucsb oper suppress address protect except encount with respect specifi workspac oper suppress by oper command network oper termin socket close specifi time limit exceed oper initi but complet accept oper accept connect with foreign socket call caus success complet previous listen oper by specifi local socket after complet oper data transfer local socket depend gender oper valid last oper referenc local socket listen oper subprogram wait until oper complet call sequenc follow call open cmpcd time cmpcd complet code variabl associ with local socket by previous listen oper time length time subprogram wait complet oper follow complet code possibl oper page rfc network pl subprogram oper success connect establish specifi local socket close state ncp receiv abort notif foreign process oper suppress previous oper specifi design local socket listen oper suppress communic path specifi foreign site use socket return close state specifi time limit exceed oper initi but complet close oper request specifi local socket return close state last oper involv socket listen oper refus foreign process connect attempt last oper connect attempt abort connect establish data transit local socket allow reach foreign socket receiv flush befor local socket close subprogram wait until socket return close state call sequenc follow call close cmpcd time cmpcd complet code variabl associ with local socket time length time subprogram wait complet oper follow complet code possibl oper oper success socket return close state specifi complet code variabl current assign socket oper suppress specifi local socket process close oper suppress but local socket close hardwar foreign site inop ncp counterpart foreign site exist page rfc network pl subprogram fail by oper command network oper termin socket close ncp control transmiss error occur oper abort transmiss error occur oper abort but socket close specifi time limit exceed oper initi but complet send oper caus data sent foreign socket subprogram wait until data receiv by foreign socket until queu local by ncp call sequenc follow call write cmpcd bfr len time offset cmpcd complet code variabl associ with local socket bfr data sent singl dimens array decim binari fix float len number bit data sent len posit oper perform len attribut binari fix time length time subprogram wait complet oper offset bit offset bit bfr data transmiss begin attribut binari fix specifi offset default follow complet code possibl oper oper success data sent specifi local socket send socket oper suppress specifi complet code variabl assign socket oper suppress previous send oper progress oper suppress connect fulli open oper suppress foreign socket termin connect befor page rfc network pl subprogram complet send oper data transmit hardwar foreign site inop ncp counterpart foreign site exist fail by oper command network oper termin socket close interrupt receiv foreign socket oper suppress address except encount with respect data buffer oper suppress ncp control transmiss error occur oper suppress transmiss error occur oper abort socket close specifi time limit exceed oper initi but complet receiv oper caus data receiv foreign socket subprogram wait until recept data complet call sequenc follow call read cmpcd bfr len time offset cmpcd complet code variabl associ with local socket bfr variabl data singl dimens array decim binari fix float len number bit data receiv len posit oper perform len attribut binari fix time length time subprogram wait complet oper offset bit offset bit bfr bit data attribut binari fix specifi offset default follow complet code possibl oper oper success data receiv page rfc network pl subprogram specifi local socket receiv socket oper suppress specifi complet code variabl assign socket oper suppress previous receiv oper progress oper suppress connect fulli open oper suppress foreign socket termin connect befor complet receiv oper data unpredict hardwar foreign site inop ncp counterpart foreign site exist fail by oper command network oper termin socket close address protect except encount with respect data buffer oper suppress interrupt receiv foreign socket oper suppress ncp control transmiss error occur oper abort socket close specifi time limit exceed oper initi but complet check oper caus status specifi local socket return complet code variabl associ with oper alway success socket identifi by socket number oper valid time alway complet immedi call sequenc follow call check lclsck stat mnem fgnsck deficit lclsck socket identifi local socket stat code status attribut binari fix mnem mnemon status attribut charact fix length greater than equal mnem longer than byte pad right with blank fgnsck socket identifi foreign socket page rfc network pl subprogram deficit send receiv deficit bit attribut binari fix lclsck argument programm need defin output subprogram follow possibl status code togeth with mnemon interpret stat mnem mean open connect fulli establish send receiv oper progress fgnsck socket identifi connect socket deficit number bit queu local socket by ncp avail satisfi futur receiv oper await output result previous send oper listen listen issu connect connect issu fgnsck socket identifi foreign socket decis listen complet fgnsck socket identifi call socket call call receiv local socket listen connect issu connect fulli establish send receiv oper progress fgnsck socket identifi connect socket deficit number bit sent receiv close socket close state drain foreign socket attempt close connect ncp data read by local socket fgnsck socket identifi connect socket deficit number bit receiv page rfc network pl subprogram drain foreign socket attempt close connect ncp await arriv foreign site data current transit fgnsck socket identifi connect socket close local socket issu close ncp process return local socket close state fgnsck socket identifi connect socket drain local socket issu close ncp complet last send oper befor return local socket close state fgnsck socket identifi connect socket deficit number bit ncp transmit identifi oper use identifi local socket by complet code variabl oper valid time alway complet immedi alway success complet code oper content complet code variabl chang call sequenc follow call id cmpcd lclsck cmpcd complet code variabl associ with local socket lclsck set socket identifi local socket complet code variabl associ with socket otherwis signal oper use convey signal foreign process signific signal complet user depend effect next time foreign socket attempt initi receiv send oper oper suppress complet code suppli indic signal receiv subprogram wait until signal page rfc network pl subprogram sent foreign ncp oper valid socket fulli open call sequenc follow call id cmpcd time cmpcd complet code variabl associ with local socket time length time subprogram wait complet oper follow complet code possibl oper oper success signal sent specifi complet code variabl assign socket oper suppress connect fulli open oper suppress certain network subprogram intend restrict use with line system network oper follow general descript oper network oper involv line system network oper certain convent concern format data sent receiv data group messag consist field op code length text order op code byte length code indic text field interpret length field byte long give length bit text field contain actual data op code length field togeth term header follow op code present defin op code mean op code nop text field exist content length field unpredict op code use delimit text field contain ebcdic charact charact per byte line system network oper consid charact intend display soon text field receiv page rfc network pl subprogram text contain code keypush byte per key line oper consid text intend execut soon text field receiv same op code except line oper consid execut key delay until data receiv oper receiv standard format data sent receiv by line system oper string messag with last messag indic by header with nop op code call trailer convent default situat overridden by appropri program follow descript subprogram intend use with line system oper write line consol subprogram caus data assum charact repres by ebcdic code sent specifi local socket charact sent standard messag preced by header option follow by trailer subprogram wait data receiv by foreign socket queu local by ncp oper valid local socket send socket fulli open call sequenc follow call wtolc cmpcd bfr len level across down time cmpcd complet code variabl associ with local socket bfr charact string sent attribut string charact bit length fix vari len absolut valu number charact sent len posit end data indic by trailer len negat trailer sent len attribut binari fix level indic mode type absolut valu level shift level type than equal greater than use level posit across page rfc network pl subprogram down relat current type locat level negat carriag posit upper left hand corner befor type begin make across down absolut coordin level type case charact carriag return preced posit across down charact display case charact header sent op code indic charact display soon receiv otherwis op code indic button execut soon receiv level attribut binari fix across number space move horizont across display tube befor begin type across can valu posit negat attribut binari fix down number line move vertic down display tube befor begin type down can valu posit negat attribut binari fix time length time subprogram wait complet oper complet code oper same send read line consol subprogram receiv data assum charact repres by ebcdic code foreign socket standard messag subprogram wait data option follow by trailer receiv by local socket oper valid local socket receiv socket fulli open call sequenc follow call rfolc cmpcd bfr len time cmpcd complet code variabl associ with local socket bfr variabl data attribut charact fix length length bfr greater than amount data receiv bfr pad right with blank len absolut valu maximum number charact bfr length field page rfc network pl subprogram header receiv total data than len excess data receiv but bfr access program len posit data receiv until trailer encount len negat singl messag exclus trailer receiv len attribut binari fix time length time subprogram wait complet oper complet code oper same receiv write line consol with repli subprogram combin function write line consol read line consol subprogram send string data foreign socket specifi send socket wait receiv by foreign socket queu local by ncp wait repli direct toward specifi receiv socket oper valid socket correct gender both fulli open call sequenc follow call wtolcr cmpcd bfr len level across down time cmpcd bfr len cmpcd complet code variabl associ with local send socket bfr write line consol len write line consol level write line consol across write line consol down write line consol time length time subprogram wait complet individu transmiss recept data cmpcd complet code variabl associ with local receiv socket bfr bfr read line consol len len read line consol complet code send socket same send oper complet code receiv socket same receiv oper page rfc network pl subprogram eras subprogram caus data constitut line system command eras display tube sent specifi local socket data sent singl standard messag includ op code indic charact display receiv option includ trailer subprogram wait data receiv by foreign socket queu local by ncp oper valid local socket send socket fulli open call sequenc follow call eras cmpcd delay delay time cmpcd complet code variabl associ with local socket delay absolut valu length time tenth second subprogram paus wait state befor send eras delay posit trailer sent after eras negat trailer sent delay attribut binari fix delay length time tenth second subprogram paus after send eras befor return control call program attribut binari fix time length time subprogram wait complet oper complet code oper same send rfc put machin readabl form entri onlin rfc archiv by rune skaarsmoen page