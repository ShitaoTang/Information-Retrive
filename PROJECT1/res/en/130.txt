network work group jame white request comment uc santa barbara nic april network specif ucsb simpl mind file system content page prefac ii implement iii login iv servic offer primit file oper alloc file alf updat file udf replac file rdf retriev file rtf space file spf delet file dlf renam file rnf file oper fno oper nop vi input stream format vii output stream format white page rfc simpl mind file system april figur page figur filenam password charact set figur command op code figur defin command field figur definit command flag bit figur defin command respons field figur complet code white page rfc simpl mind file system april prefac ucsb provid file storag network user ucsb simpl mind file system smfs address socket number site account paramet requir document intend provid programm with inform necessari communic with smfs conduct network transact trough ncp oper under host host protocol august ii implement follow inform essenti use smfs but interest smfs store user file ibm disk pack with bit byte storag capac ucsb unit with drive line initi drive alloc network storag appropri pack alway mount drive access smfs without oper intervent ucsb estim next year drive can devot network use second fourth drive alloc need aris smfs written accommod number line drive without modif necessari ucsb investig possibl make drive come go drive number pack can mount requir potenti exist increas storag capac with accompani increas access time file store with smfs back tape daili back tape line avail case line copi destroy sens usb expect becom file storag node network hasn capac ucsb equip howev make limit amount secondari storag immedi avail network communiti iii login smfs can simultan servic number network user assembl paramet maximum current ten potenti user establish pair network connect time write ncp modif rfc implement ucsb white page rfc simpl mind file system april full duplex connect smfs by execut standard icp socket site smfs alway listen socket accept call receiv say user receiv socket connect establish transmit bit receiv socket number call close connect smfs issu connect request involv receiv socket user send socket involv send socket user receiv socket connect establish user consid log deviat initi connect protocol occur smfs ncp insuffici resourc support connect smfs maintain connect user indefinit voluntarili termin connect user bad op code encount user command see section vi close connect requir signal end data see section bar occurr user close connect smfs time smfs consid user log discuss follow follow term use connect user transmit data receiv data smfs design input output connect respect smfs than user point view adopt string bit pass user smfs input connect dure life connect call input stream string bit pass smfs user output connect dure life connect call output stream iv servic offer smfs provid storag sequenti binari file length greater than equal assembl paramet minimum current bit than equal assembl paramet maximum current million bit restrict content file file store with smfs filenam string bit charact chosen set blank white page rfc simpl mind file system april graphic ebcdic code hex ascii code hex uc lc uc lc uc lc blank figur filenam password charact set white page rfc simpl mind file system april filenam specifi by user ebcdic ascii see figur charact upper lower case howev accept by smfs both upper lower case both ebcdic ascii provid conveni user particular distinct don increas number uniqu filenam can generat filenam file number file number ebcdic ascii design same file file store with smfs option protect against unauthor retriev modif file creat user associ with modif password access password smfs demand appropri password suppli befor file modifi retriev respect smfs protect file independ against unauthor modif retriev group user can given access file singl individu retain exclus right modifi password defin particular type refer file refer unrestrict password same attribut filenam same length restrict same charact set manner smfs write file secondari storag insur user modifi file user simultan modifi retriev same file requir effect by mechan intern smfs transpar user with except user attempt retriev modifi file current modifi by user smfs delay action request until current modif complet restrict number user concurr retriev same file primit file oper smfs recogn execut follow primit file oper alloc file alf smfs regard reserv filenam assign password reserv secondari storag oper distinct transmit file content oper call file alloc abbrevi alf alloc file user specifi filenam assign access password estim size file bit smfs check propos filenam insur doesn duplic exist file smfs check insur suffici secondari storag avail accommod new white page rfc simpl mind file system april file both requir met smfs alloc file filenam reserv secondari storag reserv password inform record reserv secondari storag file smfs add estim overhead store file user declar size file general user slight estim size file alloc smfs alloc fix amount storag basi estim amount can not increas smfs actual overhead store file function manner content file transmit by user overhead minim file transmit singl seri oper see section vi increas number oper increas overhead associ with singl seri transmiss smfs add file size specifi by user determin amount storag alloc multipl seri transmiss overhead underestim updat file udf oper transmit part previous alloc file content storag by smfs call updat file udf user specifi filenam file updat modif password requir amount data bit ad file final data smfs locat file secondari storag check password valid appropri add data file smfs consid updat complet specifi number bit extract input stream store user termin transmiss by close connect data transmit udf oper concaten current content file boundari between updat transpar user file retriev exampl content file transmit smfs distinct udf oper retriev singl rtf oper see section user view file store with smfs potenti veri long bit string transmit smfs number variabl length segment retriev number variabl length segment with manner segment chosen dure retriev independ select dure updat process user option request smfs rememb manner file updat with data store suffici inform reconstruct segment boundari retriev time file said format retriev format white page rfc simpl mind file system april file user than request smfs transmit next bit file unformat file see section request smfs transmit next segment file smfs respons suppli length segment notion logic record introduc cours user format content file way choos can emb record length inform data user can implement record structur way transpar smfs scheme howev requir dure retriev logic record retriev user fetch length field use length operand fetch data kind arrang retriev rate apt suffer howev by allow smfs knowledg logic record boundari feedback loop effect shorten smfs closer file potenti exist increas retriev rate user intend file format specifi updat retriev oper referenc file smfs way flag file indic format user invok option dure retriev without file store result erron updat format file termin befor bit count oper exhaust user close connect retriev result again erron replac file rpf replac file rpf oper ident udf except new file segment than concaten exist file replac entir content file previous content file lost new segment becom segment file rpf use rewrit exist file rewritten file contain singl segment segment transmit smfs rpf oper otherwis segment new file transmit rpf oper succeed segment udf oper altern dummi bit count rpf oper insert befor real segment transmit segment file transmit udf oper white page rfc simpl mind file system april retriev file rtf oper retriev part file content call file retriev rtf user specifi filenam file retriev access password requir amount data bit fetch file smfs locat file secondari storag check password valid appropri copi bit count request file segment output stream smfs consid retriev complet request number bit output stream content file exhaust case smfs close connect signal end data user success rtf oper referenc same file caus success segment file transmit provid oper juxtapos input stream howev nop interspers input stream seri rtf oper referenc particular file broken by oper referenc file by differ type oper involv same file next rtf oper design origin file caus segment file transmit manner user segment file seri retriev oper need bear relationship segment scheme employ file updat employ previous retriev user elect file format by smfs invok option rtf oper case smfs suppli length segment place both segment output stream space file spf file store with smfs sequenti organ segment file can not retriev without process nth segment user howev occas wish retriev select segment file could effect by retriev segment file flush with current unconcern avoid needless network traffic smfs provid mechan flush file segment local oper call space file spf ident rtf with except transmiss data but bit count suppress spf oper freeli insert within seri rtf oper design particular file with desir result white page rfc simpl mind file system april delet file dlf file delet time after alloc user specifi filenam file delet modif password requir smfs locat file secondari storag check password valid appropri password correct delet file filenam made avail reassign secondari storag alloc file reclaim by smfs content file lost renam file rnf file store with smfs renam time after alloc user specifi current filenam file renam modif password propos new filenam smfs locat file secondari storag check password valid appropri assur propos new filenam assign file requir met file renam subsequ refer file by newli assign filenam rnf provid mean protect file rewritten entireti against failur net send receiv host strategi follow alloc new file assign temporari transmit revis file content udf rpf oper delet origin file use rnf replac newli creat file temporari filenam with origin file file oper fno fno dummi oper provid use termin seri rtf oper user desir retriev content file success with seri rtf spf oper follow by fno follow by second seri rtf spf oper rtf spf oper seri retriev flush next segment file oper second string string explain section retriev flush segment file remain oper second string cours retriev flush segment file content file transmit fno termin string oper effect reposit user segment file fno appear within input stream white page rfc simpl mind file system april oper nop oper provid sole aid user format input stream discard without process encount particular nop embed seri rtf oper termin string fno vi input stream format input stream consist contigu string command smfs command type defin primit file oper section command follow general format op access modif new code flag filenam password password filenam bit count data length fix length field indic bit field filenam access password modif password new filenam divid follow subfield length length filenam password length subfield contain length bit charact filenam password subfield general format smfs command command type requir field specifi particular subset field defin type command field appear defin field command type indic figur field defin particular command type need alway appear explicit user envis smfs maintain filenam password bit count accumul time filenam new filenam white page rfc simpl mind file system april access modif password bit count appear explicit input stream save appropri accumul null password design by set bit bit figur thought appear explicit user caus defin field default current content appropri accumul by turn appropri bin flag field see figur field default manner field said appear implicit command nop oper fno file oper alf alloc file udf updat file rpf replac file rtf retriev file spf space file dlf delet file rnf renam file figur command op code accumul initi empti attempt default field command input stream illicit error indic field appropri type appear explicit input stream befor correspond accumul consid defin smfs detect invalid filenam password improp length deviat charact set input stream appropri accumul left empti again smfs allow oper file interleav input stream by includ command format provis explicit specifi filenam password inform command oper involv same file appear sequenti input stream user need appropri field default but command avoid transmiss otherwis redund paramet white page rfc simpl mind file system april alf udf rpf rtf spf dlf rnf fno nop figur defin command field note command field mark with defin white page rfc simpl mind file system april access password access password default oper default access modif password appear explicit recent input stream appear explicit current command bit count default bit count oper default appear explicit recent input stream appear explicit current command filenam default filenam oper default filenam new filenam appear explicit recent input stream appear explicit current command access password access password appear explicit oper appear explicit current command bit indic access password defin file echo op code smfs echo op code filenam filenam appear explicit by copi output stream ahead respons current command undefin examin zero modif same bit but appli password default modif password than access password figur definit command flag bit white page rfc simpl mind file system april file format udf rtf segment part format file smfs record bit count rtf spf referenc file format bit count appear explicit current command new filenam same bit but appli default new filenam than filenam modif password same bit but appli appear explicit modif password than access password undefin examin zero figur continu definit command flag bit note sixteen bit flag number left right seri rtf spf oper referenc same file juxtapos input stream discuss section caus success segment file transmit both filenam access password default bit null password accept oper follow seri user specifi paramet explicit command seri explicit state valu same default valu smfs consid seri termin fno encount command question return flush segment file allow both filenam password default ad effect both rtf spf udf seri decreas process time requir by smfs execut oper compris seri under circumst smfs execut initi function file locat password verif begin seri than oper potenti increas transmiss rate exist seri udf rpf oper smfs conserv secondari storag by concaten file segment befor written white page rfc simpl mind file system april smfs abort process command input stream filenam invalid incorrect password suppli smfs flush entir command suppos exampl file specifi udf oper exist alloc data field oper veri long smfs well detect exist file befor data field transmit by user case smfs accept flush whatev remain abort command case includ veri long data field until reach point input stream expect find next command process smfs howev notifi user command abort by place appropri indic output stream soon detect error case befor erron command flush input stream user option abort process by close connect smfs consid command with invalid op code especi sever error way locat start next command place special charact ff output stream follow with invalid op code close connect user vii output stream format smfs respond command extract input stream command except fno nop by place command respons output stream command respons follow general format op cmpl code filenam code bit count data length fix length field indic bit field filenam divid follow subfield length length filenam length subfield contain length bit charact filenam subfield white page rfc simpl mind file system april general format smfs command respons respons particular command field present particular subset field defin type command respons field appear defin field command respons type indic figur field op code filenam op code filenam extract by smfs input stream echo by smfs output stream filenam alway echo explicit appear implicit input stream op code filenam suppress appear command respons bit flag field correspond command set cmpl code contain indic outcom oper oper complet success cmpl code contain valu equal op code command execut echo op code filenam suppress oper success op code cmpl code ident oper unsuccess cmpl code contain indic error encount by smfs process command complet code summar figur white page rfc simpl mind file system april nop fno alf udf rpf rtf spf dlf rnf figur defin command respons field note command respons field mark with defin white page rfc simpl mind file system april invalid op code input stream constitut special type error smfs respons follow special command respons construct consist valu ff bit field follow by erron op code bit field command respons output stream connect user close alloc success file success alloc updat success file success updat replac success file success replac retriev success file segment success retriev space success file segment success flush delet success file success delet renam success file success renam default filenam user attempt default filenam new filenam filenam accumul empti length filenam length filenam new filenam specifi filenam long length filenam new filenam exceed charact invalid filenam filenam new filenam contain charact appear charact set default password user attempt default access modif password password accumul empti length password length access modif password specifi figur complet code white page rfc simpl mind file system april password long length access modif password exceed charact default bit count user attempt default bit count bit count accumul empti invalid password access modif password contain charact appear charact set duplic filenam filenam alf oper new filenam rnf oper assign file insuffici space alf oper request amount secondari storag unavail alloc error alf oper irrecover error encount by smfs attempt alloc file file found referenc file exist search error irrecover error encount by smfs attempt locat referenc file file full udf rpf oper secondari storag alloc file exhaust incorrect password access modif password suppli by user match declar file alloc file size small alf oper bit count specifi than minimum file size accept by smfs figur continu complet code white page rfc simpl mind file system april file size big alf oper bit count specifi exceed maximum file size accept by smfs write error irrecover error encount by smfs alf oper smfs attempt record password inform udf rpf oper smfs attempt add data file read error irrecover error encount by smfs attempt retriev password inform data renam error irrecover error encount by smfs attempt renam file delet error dlf oper irrecover error encount by smfs attempt delet file end data rtf spr oper end file reach befor request segment transmit flush figur continu complet code rfc put machin readabl form entri onlin rfc archiv by gottfri janik white page