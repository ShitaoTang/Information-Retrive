 network working group bob bressler request for comments bob thomas nic january inter entity communication an experiment this note is an attempt to be a status report concerning an experiment based on the desire of users at their consoles to converse with one another and perhaps to get some debugging assistance the user might ask who can i talk to can i show him what i have done and can i let him run my program many time sharing systems provide capabilities such as these within the bounds of their system almost all systems have a who or systat many have commands like link or talk and some support more esoteric capabilities like controlling another user s program at the last formal meeting of the network working group in october of at mit a group got together to talk about these features for inter entity communications iec and how they might be extended to span across host boundaries subsequent development has proceeded in an ad hoc manner the general design philosophy paralleled that of telnet in terms of having both server and user programs the server program would handle commands like connect to user foo where is user bar or who is on your system an initial implementation of a server and user was brought up at mit dmcg using a completely arbitrary protocol soon after that in an effort to increase its usefulness the protocol was modified to be compatible with that being used by the resource sharing executive being developed at bbn tenex the mit user program used the concept of ports to help identify character streams entering and leaving an object a pictorial diagram follows figure showing a user teletype his job and two consultants with whom he is conversing bressler thomas page rfc inter entity communication january user tty host command a interpreter tty tty out port in port v in port consultant i e c out port in port consultant out port job v job in port out port user job host b the user now has the option of opening or closing any of the ports he wishes while in conversation mode he might turn off the ports leading to the job if he wished consultant to control the job he might turn off the input ports from his own tty and from consultant bressler thomas page rfc inter entity communication january towards this goal the user interface provides the following set of commands who user supplies which host and given a list of user teletype jobs where user supplies identification of another user and program tries to find him on all the servers it knows about for server that code was very easy to write open or close user specifies which port to turn on or turn off port map gives the user a picture of all his ports connect user specifies host user and port identification if successful results in an open connection to the specified user disconnect user specifies port and connection is cleanly broken the above description applies to the program at mit dmcg similar ones will soon be available on the other its systems from tenex the user interface is through the rsexec subsystem to the user the rsexec looks much like the standard tenex exec but not limited to just the local system with the exception of the concept of ports the command structure is similar to that previously described where is user thomas lists each currently active job of user thomas each job is identified by its network site job i d and attached terminals sites of user bressler lists all of the currently accessible network sites where user bressler has an account link to tty at site utah links the user s terminal to terminal at the utah pdp who lists the users currently logged in at each accessible network site who has options for specifying selected sites bressler thomas page rfc inter entity communication january supplementing the above services the tenex rsexec program provides a set of files system tools it is planned to integrate these services with the ftp type protocols and make these services available on other non tenex systems socket decimal has been assigned to this experiment as mentioned above these services are now or will soon be available on many its and tenex systems in addition at least one of these services will be available on a non login basis this will enable tip users to avail themselves of these communication facilities further participation in this experiment is of course invited it is hoped that a service like this can play an important role in network development sites are invited to experiment with the conferencing possibilities of this experiment we would be interested in knowing what drawbacks are encountered the protocol design will remain flexible and can be expanded to meet short comings that use will discover areas of experimentation include integration with the mail protocol conference scheduling and incorporating a picture oriented graphics protocol for graphics users to share screens attached is a copy of the protocol currently used at first glance it may appear hostile to non pdp s but this was not intentional a new and more general protocol is being developed but since this one is operational it seems useful to try using it interim protocol there are two parts to the rsexec protocol an initial connection protocol which specifies how a user program connects to the server program and a command protocol which specifies how the user process talks to the server process to get service initial connection protocol to connect to the server the user process connects to socket number octal connection byte size the server program then transmits two bytes and breaks the connection byte socket number x byte transaction number meaningful to server bressler thomas page rfc inter entity communication january the server and user programs complete the icp by opening two bit working connections u x u x where u the socket used by the user program to initiate the icp after the two working connections are established the server is ready to accept commands note that the rsexec icp is virtually identical to the official arpanet icp the single difference being transmission of the transaction number command protocol note on terminology ascii bit characters packed to a bit word with the low order bit in all following examples the contents of a string are delimited with asciz ascii terminated with a character bits of zero sixbit bit characters packed to a bit word a sixbit character octal the equivalent ascii character byte unless otherwise stated is bits xwd a b half words high order bits a low order bits b usinf to obtain information about a user at the server s site user sends byte ascii usinf byte k asciz username bressler thomas page rfc inter entity communication january server responds neg ack byte xwd error no such user pos ack byte byte n xwd job tty where tty if job detached byte n sstat to obtain the active users at the server s site user sends byte ascii sstat server responds neg ack byte pos ack byte followed by data blocks of the form a byte means end of transmission or b byte xwd job tty byte sixbit subsys name byte n asciz username link to link to a user terminal at the server site user sends byte ascii link byte terminal server responds neg ack byte pos ack byte number n means server will attempt link if positive acknowledgement server and user try to establish the two bit connections n u bressler thomas page rfc inter entity communication january n u where u is the socket used by the user to initiate the icp these connections are to be used to carry text to and from the linked tty at the server s site server responds a second time neg ack byte means can t establish connections or couldn t make the link pos ack byte means link to tty established and anything transmitted over the connections will go to linked tty break to break a link previously established to a terminal at the server site user sends byte ascii break server responds neg ack byte xwd error pos ack byte link successfully broken terminate to terminate connection with the server the user can either send a single byte or just close the connections the former is preferred the server responds by breaking the connections this rfc was put into machine readable form for entry into the online rfc archives by h l ne morin viag nie bressler thomas page 