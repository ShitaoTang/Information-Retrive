 network working group j mcconnell request for comment ames research center moffet field ca obsoletes none june updates nic a device independent graphical display description as more nodes are connected to the arpa network the types of graphical display processors available to users is quite varied to attempt to facilitate the transmission of graphical information over the network a device independent description of a display is described the using host may make any conversions necessary to realize the picture on a specific device it is also possible to interpose a form machine as proposed by heafner and harslem in rfc some of the items and entities described herein were first discussed by steve crocker in rfc it is intended that this description is to be oriented to a refresh display with point vector and character drawing capability these types of devices include the ibm imlac pds the dec and dec as well as the evans and sutherland lds however direct video storage tube devices represented by the ards tektronix and computer devices can also serve as clumsy interactive devices hard copy devices such as microfilm or plotters can also be used at the using host s discretion there are several items and constructs which will be defined before discussing the specifics of the description the network standard graphics description stream ngds contains the description data and operators necessary to effect a display the network standard stream interpreter ngsi parses the ngds into its components the network standard display list ngdl is the basic entity which when executed causes graphical information to be displayed the network standard list interpreter ngli is the entity which executes the ngdl and controls the beam movement to effect generation of graphical information the network standard screen ngs is the entity on which the information is to be displayed it may be divided into image areas to be defined later mcconnell page rfc a device independent graphical display description june the network standard graphics list pointer nglp and the network standard graphics execution stack nges are entities which describe the state of the ngli at any given time and provide the facilities to allow the ngli to be a recursive interpreter figure summarizes the preceding discussion graphically which is appropriate the network standard graphics screen is rectangular and positions on it are specified by an ordered pair of fractions representing the horizontal distance from the left edge and the vertical distance from the bottom edges respectively these shall be termed the x y coordinates as is standard there is no specification of resolution so that the quality of the picture will degrade with the decreasing resolution of a poor display device or be improved if it is displayed on a higher resolution device coordinate values are specified by a bit unsigned fractions with the binary point to the left of the most significant bit this provides a normalized screen with coordinates between and the ngs may be subdivided into rectangular image areas with possibility unique displays in each space an image area has three attributes a bit integer name an x y pair specifying the lower left corner and an x y pair to specify the upper right corner of the area image spaces may overlap but may not be completely contained within each other the main image space has the name and is coincident with the ngs the use of image spaces allows for manipulation of part of the ngs s contents as well as redefining the coordinate space within an image area coordinate values are fractional displacements from the lower left hand corner of the image space thus an image area defined from to would contain an image one fourth of the size of what it would be on the full ngs character strings may be displayed at arbitrary points in an image area because many display devices have hardware character generators capable of producing one or a few sizes character scaling within an image area will not be expected characters shall be assumed to be screen width wide and screen height high including spacing this gives a screen capacity of characters and lines when the beam is moved to be a screen position prior to drawing a character it is assumed to be in the center of the rectangle defining the character space the beam position after drawing a character or a string of characters is undefined the format of the ngds can now be specified the ngsi parses the ngds into commands the commands are in a prefix format with an eight bit command followed by the necessary parameters their mcconnell page rfc a device independent graphical display description june descriptions follow the numerical order of the command codes erase commands consists of a command byte and no parameters its effect is to erase the full ngs define list commands has three parameters a bit integer for the list name is first if the name has already been used then this command redefines the list the count of the items in the list is also a bit integer defining the length of the list in items the list items follow the count terminating with an end list item the items themselves are used to control the ngli and the movement of the beam when drawing pictures they are also in prefix format with an eight bit item code followed by the necessary parameters all names are bit integers coordinate data are bit unsigned fractions as previously described any other parameters will have their type and size specified in individual descriptions a open image area name item type instructs the ngli that list commands which follow are to be adjusted to be contained within the named area a nonexistent area name is treated as a nop if no image area is specified for the ngli the default area is area the ngs this directive remains in effect until another type item is encountered by the ngli b reset image area name item type causes the ngli to move the beam to the lower left corner of the image area a nonexistent name is again treated as a nop c clear image area name item type causes the ngli to erase all graphical information in the specified area and then to perform a reset command the following items are display items which actually cause beam movement by the ngli coordinate data are relative to the origin of the current image area and are taken as fractional displacements within this area d move beam x y item type causes the ngli to move the beam to x y relative to the current origin e display current position item type causes the ngli to display the current point on the ngs mcconnell page rfc a device independent graphical display description june f display vector x y item type causes a vector to be drawn from the current point to x y after the operation x y becomes the current point g display characters n c c cn item type causes the n characters to be displayed starting from the current point n is the character count and is an eight bit byte the character set recognized by the ngli is composed of eight bit bytes interpreted in the following ways any character with the most significant bit a zero is interpreted as an ascii character some non graphic ascii characters may have special functions within a string line feed lf move the beam one line spacing downward carriage return cr move the beam to the left most character position in the current line backspace bs move the beam one character position to the left in the current line tab move the beam a predetermined number of character positions to the right in the current line the number will follow the tab character in the string but may not exceed the capacity of the current line vertical tab vt move the beam down a predetermined number of line spacings the number of spacings follow the vt character and may not exceed the line capacity of the screen this is expanded as multiple line feeds any other non graphic character could cause a space character to appear in its place on the display or it may be used for any purpose two processes choose characters with the most significant bit a one are used for an extended character set where a device can support this these may also be used as an implicit stroke table calls being the names of special graphic lists that may be defined in the ngds if no eight bit list name exists then the character is a space h execute list name x y item type causes the ngli to suspend interpretation of the list and interpret the named list it is equivalent to a subroutine call the x y pair specifies the origin of the new list relative to the current origin the actions taken by the ngli are specified in the next section mcconnell page rfc a device independent graphical display description june i copy list name x y item type cause the items contained in the named list to be copied into the place of the item with the origin of the list at x y relative to the current origin this is analogous to item h as a subroutine is to a macro j execute table name mode length item causes the ngli to treat the named list as a special entity it is constrained to contain only coordinate pairs it may be executed in either point or vector mode as specified by the mode parameter vector point the length of the list is specified by a bit integer parameter k end list item type has no parameters and informs the ngli that the end of a list has been reached l table n item type specifies that there are x y pairs in this list n is a bit integer m set vector mode mode item type n set character mode mode item type in addition to the above display items some items exist which control the display mode of the above where this is applicable there are two mode items the one governing vector modes and one for character modes the quantities specified include brightness blinking color selection and mode dependent descriptions for vector modes the texture of vectors such as dashed solid or dotted can be specified for characters size and orientation can be additionally specified the scope of a mode item extends to the next encountered mode item of the same type mode specifications could have been included in the display items at the expense of more parameters and in possibly more data to be transmitted the mode specification consists of two eight bit bytes the bytes have the following organization mcconnell page rfc a device independent graphical display description june b bl clr tx or sz byteo both modes byte vector byte character mode mode where b blink if set bl brightness level invisible iiii brightness clr color one bit for each primary tx texture oo solid dashed dotted dot dash or orientation binary value x deg sz size if the device will ot support them or provide subroutines to perform these enhanced functions they are treated as nops thus the ngdl is a set of named lists define image area command has three parameters a bit area name an x y pair defining the lower left corner of the area and an x y pair defining the upper right corner if the name has already been used to define an area then this command serves a re definition of that area if the two x y information displayed in it if x is greater than xr or y is greater than yr then the definition is treated as nop the following commands are included to avoid retransmission of a list when some minor changes to it are necessary all instances of a list where an instance is a command to execute the list will be effected where a list has been copied into another list no change will take place in the copied list mcconnell page rfc a device independent graphical display description june translate list command provides for translation of all instances of a list within all of the image spaces it occurs in parameters are the bit list name and two fractions for the coordinate values of the translation scale list command can change the size of the picture created by a list in all image spaces the parameters are the bit list name followed by two bit x y unsigned fractions with eight bits of exponent followed by eight bits of mantissa these alter the scale factors in the x and y directions rotate list command will rotate all instances of a list the parameters are for the bit list name and a bit value corresponding to rotational angle in degrees with the sense being counter clockwise for increasing values and the possible axis being zero degrees the ngli executes in a loop taking items from the main list when the end of the main list is reached the ngli returns to the top of it at any point the nglp gives the ngli the positional displacement of the next display item it is processing when a display item of the type h is encountered the current lists s execution is suspended the name of the list the current origin and the nglp are saved in the nges the nglp is re set to zero the next current origin is calculated and execution of the new list commences when the end of the list is encountered the old values are restored from the nges and execution of the suspended list continues the ngli is then a recursive interpreter whenever a new image area is opened the name of that image area is stored in the current image area name the problem of interacting with the displayed picture has yet to be addressed since this is a more complicated area interaction may occur in two fashions the first and the easiest to handle are those kinds of events which are separate from the picture itself this encompasses key boards and function key types of devices these can be handled as standard messages from the graphics device to the serving host the second class of interactions is with the picture itself this is more difficult because of the problem of associating the point selected with some meaningful entity such as a list this association can probably only be made by the serving host since the using host or a form machine may have transformed the ngds in unknown ways and the ngds may no longer exist at the using host s site there are essentially two classes of devices that can interact with the picture the first class is synchronous devices ones who only cause some attention to occur while a given display item is being mcconnell page rfc a device independent graphical display description june executed light pens are synchronous devices asynchronous devices are those which can interact regardless of which or even when no display item is being executed asynchronous devices make associations more difficult since no relationship can be easily inferred as they can for synchronous devices the nges is created for the interaction with the picture for synchronous devices the current values for the list name origin and nglp as well as the contents of the nges provides a hierarchical structure where associations can be made for asynchronous devices the structure is probably not as necessary as the name and coordinates within the image space in which the interaction occurred it will be necessary for the using host to understand which type of devices are available and to supply proper type of interaction information to the serving host the form of the interaction information for synchronous devices follows interaction type cia cln cor clp n l or lp ln orn lpn where type describes the interaction type synchronous cia current image area name cln current list name cor current origin value clp current nglp value n number of entries in nges higher value of n is older entry li list name of the i th entry ori origin of the i th entry lpi nglp of the i th entry the form for asynchronous i teraction is interaction type cia iax iay sx sy where type for asynchronous interactions cia current image name iax image area x coordinate iay image area y coordinate sx sy screen x y coordinates mcconnell page rfc a device independent graphical display description june network using host ngdl ngli ngs ngds image area defini tions v ngles nglp this rfc was put into machine readable form for entry into the online rfc archives by kelly tardif viag nie mcconnell page 