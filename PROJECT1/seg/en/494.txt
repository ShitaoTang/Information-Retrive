 network working group request for comments binary message forms in computer networks daniel bobrow bolt beranek and newman cambridge massachusetts william r sutherland mit lincoln laboratory lexington massachusetts february page rfc binary message forms february message forms in computer networks introduction network communication between computers is becoming increasingly important however the variety of installations working in the area probably precludes standardization of the content and form of inter computer messages there is some hope however that a standard way of defining and describing message forms can be developed and used to facilitate communication between computers just as algol serves as a standard vehicle for describing numerous algorithms and bnf serves as a standard for describing language syntax a message description language would be useful as a standard vehicle for defining message formats considerable progress has been made at the low level of message handling protocol and one can expect the ascii protocols to be used the discussion which follows assumes that the mechanics of exchanging messages check sums repeat requests etc have been worked out the topic of concern is how to describe the content and intent of a binary message body when the network header and trailer details have been stripped off most attempts at describing the content of binary messages jump immediately into a consideration of the bit codings to be used long thin rectangles are drawn to represent the binary bit stream this stream is sliced up into boxes and tables generally describe the bit options for each box a better approach would be to provide a symbolic method for describing messages the symbolism by avoiding immediate references to specific bit details should help one s understanding of the message content and the alternatives available in the message body when the basic form of the binary message body is clear the coding details of the actual bit fields can be shown page rfc binary message forms february describing a binary message body is not much different from describing a text body or language text assumes fixed bit fields each containing one character standard language description methods bnf then show how the characters can be concatenated and what interpretation should be placed on character groups binary message descriptions require the additional capacity of defining various size fields in the message and the interpretation to be placed on the bits contained in the field a message description is initially intended as a reference standard to be written down on paper and made available to new users of a computer network from this standard the new user can discover the kind and form of the binary data being exchanged over the network once this is known the programs necessary for using the network facilities can be created later on in an established network one can envision the promulgation of standards for newly developed binary formats via the exchange of ascii text messages over the network itself instead of on paper through the mail still farther into the future the text of a binary format standard could be used as input to compiler like programs which automatically create data translation programs for converting one binary format to another right now though some kind of binary data description method however trivial is desperately needed page rfc binary message forms february a suggested binary format description method the basic component of a binary message is a simple field consisting of a consecutive number of bits in the message binary messages consist of concatenated fields a format description for a binary message will consist of a title and four declarative sections symbolic names are declared for all the different kinds of fields found in the binary format being defined symbolic names are declared for commonly used values of particular fields the legal ways of concatenating fields are indicated the number of bits in each field and any special considerations of bit codings are declared the following is a complete example of a binary message description for a trivial kind of pictorial data title illustrative graphic data format for a hierarchally structured picture of lines and points simple fields opt option control field coord numerical coordinate value id identnumber for group of picture parts count number of units in message field equivalents phdr opt lhdr opt grphdr opt grpend opt page rfc binary message forms february characterizations cpair coord point phdr cpair line lhdr cpair parts point line parts parts pixunit grphdr id parts grpend pixmsg opt n count pixunit n opt simple field sizes opt coord id count declaration of simple fields the declaration of a simple field includes a symbolic name and for lack of a better way an english description of what the contents of the field represent for example simple fields f geometric options exp std number exponent coord std number geometric coordinates representing field values a field with a specific value can be represented by a number in single quotes followed by the field name a number consists of standard digits construed as binary if zeros and ones other numbers must be followed by a base indicator unless no confusion is possible q is octal d is decimal example f d coord q exp field values are integer numbers assigned such that the least significant bit is sent first only that part of the number which fits the field is used appropriate sign extension is needed for negative numbers and for numbers whose bit representation is smaller than the field page rfc binary message forms february simple field equivalents the declaration of a simple field equivalent provides a symbolic name which represents a particular field with a specific value example field equivalents c f c f characterization statement a characterization statement defines a complex field message or message part by indicating how other fields can be combined and is similar to a definition statement in bnf the left side is a complex field name separated by from the concatenation indications on the right field names or equivalent names are concatenated by plus alternatives indicated by slash slash has precedence over plus so that a b c means a followed by either b or c alternatives must be distinguishable in their own right characterization statement parts can be grouped in the normal manner by parentheses a b c means either a followed by b or c repetition indicators repeated occurrences of a field may be indicated by following the field name with an equal sign and a number for example cpair coord i e exactly two coord fields ppairs c cpair d c cpair d assignments within a characterization statement simple fields interpretable as integers can be assigned to a variable within the right side of a characterization statement this variable can then be used as a repetition indicator example ms n exp cpair n indicates that ms consists of field exp interpreted as an integer and then exactly that number of cpairs all variables are global in scope conditional fields within a characterization statement a field may or may not occur depending on the contents of some other previous field this situation is indicated by assigning a label to the determining field the conditional occurrence is then indicated by enclosing a condition expression and the optional field description in brackets and for example page rfc binary message forms february ss v f cpair v c ppairs which defines a format of and perhaps fields a field f labeled v followed by b field cpair followed by c field ppairs if the first field v was c otherwise this third field is not present in the message conditional alternatives alternatives selected by the contents of some previous field rather than by the contents of the alternative field itself are indicated by an extension of the conditional field notation for example sm w f cpair w c cpair c ppairs the determining field occurs at the beginning of the conditional alternative and each alternative then includes its value for the determining field and the alternative field then present size of simple fields a separate field size declaration is provided simple field sizes f exp coord this size declaration should appear at the end of the message description thus forcing the reader to postpone an early consideration of bit details xmodmap e add lock caps lock this rfc was put into machine readable form for entry into the online rfc archives by dave bachmann page 