 network working group j winett request for comments ll nic february category telnet telnet logger server for host ll the attached writeup documents the telnet logger server for the cp cms system on the lincoln laboratory host the facility serves both half duplex and full duplex telnet users with data in either ascii or ebcdic codes use of the hide your input and noecho telnet controls are used for the ebcdic print suppress bypass and print restore features during the login procedure to support half duplex terminals the telnet control break reverse break is sent as an input prompt when input is desired this code can also be used to indicate that a previous line sent without an end of line sequence cr lf should be printed this material has not been reviewed for public release and is intended only for use with the arpa network it should not be quoted or cited in any publication not related to the arpa network winett page rfc telnet logger server for host ll february operation of the lincoln laboratory cp cms telnet logger server icp connection the telnet logger server follows the icp protocol for making a pair of connections the logger is initially enabled for a connection on socket x when an rfc is received for this socket a pair of sockets will be chosen for the telnet connections if the maximum number of telnet users which can be served are active the initial connection is refused currently three telnet users can be served telnet logger after the icp connections have been setup the logger expects a telnet data type code a string of network ascii characters or a null line just cr lf to indicate whether its operation should be in ascii or in ebcdic character codes ascii is assumed unless the first byte received is the telnet ebcdic data type code x a when something has been received the message lincoln laboratory cp cms online will be transmitted by the logger for example if ascii operation is desired a null line just cr lf transmitted on the send socket will cause the welcoming message to be sent in ascii the cp login procedure can then begin if communications is desired to be carried on with ebcdic character codes the first byte transmitted should be the telnet data type code for ebcdic x a thereafter all communications will be in the code originally used the cp login procedure expects the user to enter login userid where the userid specifies the desired virtual machine cp then replies with enter password followed by the ebcdic code for bypass x which is mapped into the telnet code hide your input the user should then enter a password passwords entered from the network may be different from those entered from a local terminal the logger maps network passwords into a corresponding cp password thus access to an account can only be made from the network if a network password together with a cp password and userid is entered winett page rfc telnet logger server for host ll february into a file which is read by the logger if a userid entered from the network is not in the logger file or if the network password does not match the one included in the file for the specified userid the logger passes an invalid userid or password to cp the cp response for an invalid userid or password is then sent to the network user after a password is received by cp cp transmits the ebcdic code for restore x which is mapped into the telnet control noecho telnet server since the cp cms system operates with ebcdic codes ascii codes must be translated into ebcdic before being sent to a virtual machine figure gives the ascii codes and their ebcdic mapping when the ascii sequence cr lf is received it is mapped into the ebcdic code nl whenever the telnet control nop is included in an input string it is mapped into an ebcdic idle x and then removed from the string thus if telnet nop codes are included between a cr and lf they are removed before the cr lf is mapped into the ebcdic nl the telnet control hide your input is mapped into the ebcdic code for bypass x and the telnet control echo is mapped into the ebcdic control for restore x if the telnet control echo is received the server should send the control noecho but this feature has not yet been implemented instead the telnet control echo is mapped into the ebcdic code x if the telnet break is received it is interpreted as an attention signal and the appropriate action is taken by cp or cms cp cms is a line at a time system and expects all input to consist of lines ending with a nl code characters received are buffered until the newline code is received since cp cms is also a half duplex system characters are only examined when the system is expecting input if the system is not expecting input a network interrupt is required to cause the server to process received characters on receipt of a network interrupt characters received before the telnet data mark is received are examined and discarded except that if a telnet break code is found the appropriate cp cms interrupt action is stimulated on output ebcdic codes are mapped into network ascii if a mapping exists otherwise the codes are mapped into the telnet control nop a nl code is mapped into cr lf the ebcdic code for bypass maps into the telnet control hide your input and the ebcdic code for restore maps into the telnet control noecho also the code x maps into the telnet control echo and the code x maps into the telnet winett page rfc telnet logger server for host ll february control break since cp cms is a line at a time half duplex system the telnet control break is transmitted as an end of message signal and also as an input prompt code if characters were output without a nl the break as an end of message code indicates to the user telnet operating on a line at a time mode that the characters previously transmitted should be printed without waiting for the end of line sequence if the user telnet is also operating in a half duplex mode the break as an input prompt indicates that the system is ready for input if input had been anticipated and sent by a full duplex user telnet the telnet server will have that input available for immediate processing thus in the case of a full duplex user telnet the break as a prompt should be ignored though cp cms operates in a half duplex mode it supports half duplex terminals with the reverse break feature allowing the system to abort an input mode in order to transmit a priority output message in this situation the telnet server transmits a telnet sync a half duplex user telnet should interpret this by aborting the input mode i e revoking a previous telnet break which was interpreted as an input prompt no codes in the output character stream can cause the telnet data mark to be transmitted logout when a user logs out from his virtual machine cp passes the equivalent of a line disconnect to the logger the logger then closes the telnet send and receive sockets winett page rfc telnet logger server for host ll february ascii ascii ascii symbols ebcdic ebcdic dec oct hex hex dec nul soh stx etx eot enq d ack e bel f bs ht a lf b vt b c ff c d cr d e so e f si f dle dc dc dc dc c nak d syn etb can em a sub f b ctl c fs c d gs d e rs e f us f ascii ebcdic code mappings figure winett page rfc telnet logger server for host ll february ascii ascii ascii symbols ebcdic ebcdic dec oct hex hex dec sp a f b b c d d d a c b e c d d e b f f f f f f f f f f f a a b e c c d e e e f f ascii ebcdic code mappings figure continued winett page rfc telnet logger server for host ll february ascii ascii ascii symbols ebcdic ebcdic dec oct hex hex dec c a c b c c c d c e c f c g c h c i c a j d b k d c l d d m d e n d f o d p d q d r d s e t e u e v e w e x e y e a z e b ad c a back slash d bd e carat f d ascii ebcdic code mappings figure continued winett page rfc telnet logger server for host ll february ascii ascii ascii symbols ebcdic ebcdic dec oct hex hex dec grave a b c d e f g h i a j b k c l d m e n f o p q r s a t a u a v a w a x a y a a z a b b c f bar or d b e f tilde not f del ascii ascii ascii telnet ebcdic ebcdic dec oct hex controls hex dec data mark break nop idle noecho restore echo hide your input bypass ascii ebcdic code mappings figure continued winett page rfc telnet logger server for host ll february this rfc was put into machine readable form for entry into the online rfc archives by helene morin via genie winett page 