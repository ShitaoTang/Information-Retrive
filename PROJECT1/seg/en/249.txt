 network working group a bhushan request for comments mit dm nic september data and file transfer some measurement results during the last six months we have been monitoring although not continuously the performance of our ftp user and ftp server programs the purpose of this paper is to discuss measurement criteria describe the measurement facilities report the relevant measurement results discuss the significance of results and compare them with other measurement data and ask for suggestions on our measurement and summarizing procedures i the measurement criteria the ftp ref the file transfer protocol by abhay bhushan nwg rfc nic may be considered a facility for data transfer between file systems the relevant measurement parameters for a data transfer facility are transfer rate both peak and average measured in bits per second which determines the throughput of the data transfer facility response time or delay measured in seconds which determines the interactibility of the facility processing cost measured in dollars or cpu seconds per megabit transferred for transferring the data between the network and the file system this is only one component of the cost of transferring data the other component being the communication cost including imp processing costs which we take as given failure to connect rate average time elapsed between failures to connect to the facility measured in hours failures could be in the host processor and file system hardware or software or in the imps and telephone lines availability the percentage of time a given facility is available or alternately the probability of finding the facility available at a given time accuracy measured by the probability of error in transferring bits bytes blocks or files bhushan page rfc data and file transfer september ii the measurement facilities the mit cms survey program ref a report on the survey project by abhay bhushan nwg rfc nic measures the response time failure to connect rate and availability of the host logger facility on socket our preliminary experiments have indicated that the corresponding measurement results for the ftp are very close to that for the logger at least they are the same order of magnitude as the use of ftp and the arpanet is increasing rapidly most hosts have their logger and ftp operational whenever their host and ncp network control program are functioning the response time for obtaining the use of ftp service is very close to that for obtaining the use of the logger service as both involve the use of the icp initial connection protocol preliminary results from the survey project indicate that the average response time in recent months has been about seconds the average availability has been about with the failure to connect rate being about once every hours table i shows summary results for the time period august through august for three hosts with tenex operating systems sri arc nic bbn tenexa and usc isi the reader is cautioned that the data below reflects the host performance as seen by the mit dms survey program which surveys the hosts only once every twenty minutes consequently the actual host performance may be somewhat different also we cannot distinguish between imp telephone lines and host failures and the response time of a host is affected by its distance number of imp hops from the mit imp imp in the data shown in table ii each success or fail response is considered to have a duration of minutes so hosts are given the benefit of the doubt for the time we are not surveying in addition the response time has been averaged only for the successful logger available responses the logger is considered available if the survey program can establish a full duplex connection within seconds the host is considered available when it is not in the dead state states in which logger is not up but the host is available are logger not responding and logger rejecting bhushan page rfc data and file transfer september table i response time availability and failure rate for selected hosts based on survey data for through parameter nic bbn isi average response time sec host availability logger availability failure to connect rate for host hours failure to connect rate for logger hours the details on the above measurements will be reported in a forth coming paper this paper will focus on the remaining parameters of transmission rate processing costs and accuracy as measured by the mit dms file transfer measurement facility the ftp measurement facility exists in the mit dms calico subsystem each time the mit dms ftp user or ftp server program in the calico subsystem is used to transfer files and data via the arpanet it records in a local disk file the following transfer parameters the remote host involved the date and time the transfer is initiated the total number of bits transferred the real time taken in seconds for the transfer the cpu time in micro seconds used by the program whether the program is the server or user and the ftp parameter settings for byte size byte representation type type transfer mode mode and the file structure stru programs exist in calico to display and summarize this data it should be noted that no measurements are recorded when the non calico ftp user and ftp server programs are used for transferring files therefore it should be pointed out that the measurement represents a small subset of our total ftp usage the calico ftp server was operated only till may when we switched to the non calico ftp server the switch was made because calico still undergoing development is somewhat less reliable as calico stabilizes we may again operate the calico server and continue measuring data transfer in addition many users prefer to use the simpler involving fewer system resources stand alone ftp user bhushan page rfc data and file transfer september program the measurement does include the data transferred when ftp is used indirectly by such commands as copy print listf and mail file in the calico netwrk subsystem iii the measurement results the measurement facility has been operational though not continuously since february it has recorded the transfer of files consisting of million bits over of the bits transferred but only of the files used the more efficient image stream mode type i byte mode s of transfer the remainder of the files were transferred using the ascii stream mode type a byte mode s it should be noted that even though block mode was available it was never used by our users primarily because many ftp servers do not implement it and it is less efficient to use all the files had a sequential non record file structure stru f a summary of the measurement results is shown in table ii table ii summary of ftp measurement results subset of data files bits av file speed cpu use mbits kbits kbps sec mb total image mode ascii mode server sending server receiving user receiving user sending the entire display of the measurement data and the summaries shown in table ii are generated by the pftpst print ftp statistics program in the calico subsystem a sample of the data displayed is shown in table iii the bps bits per second and the m b cpu microseconds per bit or cpu seconds per megabit information is calculated by the displaying program the largest file transferred was mbits a stor by the ftp user to mit ai the transfer took minutes of real time for a transfer rate of a little over kbps the highest data transfer rate recorded was kbps a bhushan page rfc data and file transfer september retr from bbn tenexa to mit dms ftp server the length of the file in the above case was kbits needless to say that both of the above transfers used the more efficient image mode for transfer the smallest file and the smallest transmission rate recorded was an bit mlfl to mit ml using ascii which took seconds real time for bps transfer rate table iii sample display of ftp measurement data host comm date time bits bps m b t by prg sri arc stor i u mit ml stor i u mit ml retr i u mit ml stor i u mit ml retr i u mit ai stor a u mit ai retr i u mit ai stor i u sri arc retr i u sri arc stor i u sri arc retr i u sri arc stor i u sri arc stor i u sri arc retr a u sri arc retr a u sri arc retr a u sri arc retr a u sri arc retr a u mit ml stor i u mit ml stor u mit ml stor i u mit ml stor i u bnn tenexa mlfl a u bbn tenexa mlfl a u usc isi mlfl a u bbn tenexa mlfl a u bbn tenexa mlfl a u it should be pointed out that recent measurement data for ascii transfer includes retrieval of nic journal documents xxxxx nls xnls files from sri arc sri arc converts these xnls files from nls to sequential form on the fly and this takes considerable time giving a low transfer rate for these transfers bhushan page rfc data and file transfer september in transferring files we found the arpanet and the ftp to be quite reliable on numerous occasions we transferred complete listing of our operating system about million bits reassembled it and ran it with no problem no data lossage problems have been reported to us as yet iv the significance of measurement results first of all let me state my complete agreement with barry wessler ref revelations in network host measurements nwg rfc nic that the measurement results should be taken in the spirit here is a place to make the network better rather than look isn t the network terrible we take these measurements in the same spirit and have found the measurement effort to be quite fruitful in several instances with the aid of our measurement facilities we have been able to improve the performance of our network programs by an order of magnitude just as don allen at bbn improved greg hicks rjs program our measurement results are in close agreement with the bbn ftp measurements cpu seconds mb for bit byte and cpu seconds mb for bit byte transfers we also find the bit byte transfer to be an order of magnitude more efficient than bit byte transfer the processing cost assuming per cpu minute for transferring a megabit of information comes to about for ascii mode as compared to only for image mode the difference in transfer rate is equally astounding being kbps for image as compared to only kbps for ascii it is therefore recommended that image mode be used as much as possible to transfer data between pdp s of which there are many on the arpanet it is strongly urged that protocols and programs allow and use the image mode for all data transfers including mailing files mlfl listing directories list nlst and sending retrieving nic journal documents many of the mid dms user programs such as copy and ftp take advantage of the fact that the remote host is a pdp there is a table of pdp s in copy and use the more efficient image mode such a procedure is highly recommended the effective imp imp data transfer rate is about kbps over the kbps telephone line ref mcquillan john m throughput in the arpa network analysis and measurement bbn report nic january the host to host data transfer measurement performed by bbn above reference p have indicated a transfer rate of kbps bbn to bbn imp hops and kbps bbn to sri hops using single link as ftp transfers data via a single link a maximum transfer rate between and kbps depending on number of bhushan page rfc data and file transfer september imp hops can be expected if that file transfer is the only activity going on in this light our maximum transfer rate of kbps to bbn hops is probably the most one can expect out of any program the average transfer rate of kbps for image transfer also appears reasonable in view of the fact that during many of the transfers other network activity is also going on and that many of the transfers are performed when the respective computer systems are quite heavily loaded our measurement data does reveal that transfer rate is appreciably higher during the times a computer is likely to be lightly loaded the above does not mean that improvements are not possible or not required in the state of the arpanet data transfer our measurement data has revealed areas in which improvements can be and should be made for example the transfer of data to other mit hosts imp hops and back to ourselves should be faster than what we currently achieve transfer to bbn is faster the probable reason for the above discrepancy is that our allocation host host protocol is very small bits as compared to that provided by bbn bits this means that to transfer data our network control program ncp has to wait for an allocation many more times while communicating to an its system than to a tenex system large allocations are always desirable but even more so while transferring files ncp designers can and should modify ncp s to allow large allocates larger ncp buffers for file transfer even at the expense of smaller allocates for other types of connections such as a terminal connected to a computer system which do not require or use the larger allocation in addition a new allocate should be sent as soon as data is read by the receiving program the ncp should not wait for the allocation to become zero before sending the new allocate we also observed that small files are transferred at a significantly lower transfer rate than large files but beyond a file size of kbits the file size makes little difference in transfer rate or processing cost per bit transferred the figure of kbits is probably related to the size of sending and receiving buffers used by the programs in general for most practical values of buffer size the larger the buffer size and allocations the faster and more efficient will be the transfer unfortunately large ncp buffers are not easily available in many systems and come at a premium the information on average file size kbits for image and kbits for ascii files may be helpful in optimum allocation of buffer space bhushan page rfc data and file transfer september v request for comments and suggestions it is hoped that the above measurement results and our ftp and survey measurement facilities will help arpanet users plan their modes of network usage and help network programmers in making the network better this rfc is indeed a request for comments and your suggestions on the way we collect store and display measurement data will be greatly appreciated we can break the measurement data by hosts and will be happy to provide the information if it is considered desirable please let me know what other parameters we should record or display you may communicate with me via the arpanet akb at mit dms host nic ident akb via telephone or or us mail rm tech square cambridge mass this rfc was put into machine readable form for entry into the online rfc archives by robert baskerville bhushan page 