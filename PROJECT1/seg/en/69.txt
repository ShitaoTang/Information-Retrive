 network working group james e white jew request for comments sri arc nic july response to critiques of the proposed mail protocol a number of people have responded to my proposal for a mail protocol jew rfc y in the current rfc i ve attempted to collect and respond to the questions complaints and suggestions that various individuals in the network community have offered i intend to critique myself in a forthcoming rfc i hope that dialog on the protocol proposal will continue and that others will join in the discussion i will respond via rfc to any additional critiques i receive i hope there ll be many i questions how does the server verify an id references dhc jbp rfc g gy discussion one postulates the existence of at least one host whose mail server process implements the user verification function jew rfc f gy any process can contact that server give him the name of any individual in the net and a test id and the server will determine whether or not the individual and id agree the nic for one will without question provide this service with such support available to it any ftp server process can then require of any or all user processes that contact it an id command wherever it wishes within the user server interchange within the constraints of the protocol the server simply prompts for the id gets it opens a connection to the user verification agent presents to it the individual s name and purported id receives a positive or negative response and deals with the original user process accordingly white page rfc response to critiques of proposed mail protocol july example suppose a user process opens a connection to ucla nmc s server process invokes the delivery function and in the course of the interchange identifies the author as roberts at usc isi the implementors at ucla nmc s server process chose to require proof in all delivery transactions that the author is who he claims he is it therefore prompts for an id in response to the author command from the user process and receives in return the command id arpawheel ucla nmc s server then connects to the nic s server invokes the user verification function there specifying requestor roberts usc isi and id arpawheel the nic informs ucla nms that the id is incorrect ucla nmc then rejects the original id command of course the protocol does not require that a server demand ids from users that contact it servers who choose not to require proof of identity simply never prompt for id commands and treat any they receive as nops for such implementations which represent the current ftp mail protocol situation no third part interchanges are ever required each user in the net has a single id that he uses throughout the net for purposes of sending and receiving mail that id need not but may either coincidentally or by design have any other use in particular a user s id is independent of the passwords by which he gains access to accounts that he might possess on hosts around the net of course a user could and might see to it that his passwords and id are the same the nic for example might require that a user log in to its system with nic ident and id rather than with host name and password as it does currently i emphasize again that ids have nothing whatsoever to do with accounting ucla nmc doesn t force the author to prove his identity so ucla has someone to whom it can bill the resources consumed in processing the delivery transaction it does so to prevent jim white from authoring a piece of mail and claiming that larry roberts wrote it white page rfc response to critiques of proposed mail protocol july ucla nmc does have the option of requiring that a user process log in before it delivers mail so that it can be billed for the resources it uses the appropriate commands to require of the user process are user pass and acct but the billing process is separable from that of identifying author clerk etc the nic for example in its role as a distribution agent might establish an account at ucla nmc to use whenever it delivers mail there ucla nmc will bill all of the nic s activity at ucla to that account but when the nic delivers a piece of mail it claims was authored by larry roberts ucla nmc may still wish to verify that claim hence the id command ack progress report or reply with no reference serial number references dhc jbp rfc h gy discussion a delivery of type positive or negative acknowledgment progress report or reply requires a reference serial number of the user process should the server determine that one is lacking when the final exit command is given he should reject the exit command with an appropriate error response the same applies in the distribution function a reference serial number must be specified if the delivery type is reply the protocol document is deficient in that it doesn t state the above ii complaints terminating both the subsystem and functions with exit references aam white page rfc response to critiques of proposed mail protocol july discussion i have no objection to defining two terminating commands one to exit a function the other to exit the subsystem i guess i d suggest defining a command go to be used to terminate a function i don t believe however that s it s necessary to distinguish the two cases to avoid confusion by human users even though the command language is ascii rather than binary and even though i ve adopted mike padlipsky s concept of a unified user level protocol i don t consider that mp is a protocol for direct use by humans although nothing can stop a human user from speaking mp if he has access to a telnet user program and is determined to do so the concept i mean to extract from the uulp and exploit is its model of a single process with many subsystems not its philosophy of a network standard command language for use by human users the latter may be a good idea too but it s not the one i m concerned with at the moment i don t think that designing a protocol to govern an exchange between processes is the same task as designing a protocol to mediate a conversation between a process and a human user using ascii commands suggests as it did for ftp rje etc that the latter problem is the one being addressed it s not using telnet go ahead to terminate certain commands references aam rcc a gy dhc jbp rfc b gy discussion agreed my mistake i simply have a strong distaste for the current ftp convention of terminating commands whose argument may itself contain cr lf with cr lf cr lf that seems a little extravagant to me personally i d prefer a single nvt character as a delimiter white page rfc response to critiques of proposed mail protocol july only terminates two mp commands comments and text some nvt character esc ext can easily be chosen that need not appear and can therefore be prohibited from appearing by the protocol in the argument to either of those commands subsystem or separate rje like server process references dhc jbp rfc a gy aam ado rfc y discussion there are two separable issues here server process proliferation of not if the consensus of the network community is that padlipsky s uulp approach to protocol design and implementation is in fact superior to the current scheme which calls for the implementation of each new network protocol as a distinct server process with its own contact socket then we should begin to embrace that concept and begin reshuffling existing protocol implementations accordingly even more surely new protocols like mp should be designed in accordance with the new standards not the old i think buz owen s suggestion ado rfc y that a skeletal uulp be defined a socket assigned to server processes which implement it and mp defined as a subsystem under it is excellent i retract my suggestion jew rfc a gy in favor of owen s i further suggest that the latest revision of ftp njn rfc be similarly implemented i e as a uulp subsystem rather then implemented temporarily under a new socket and later moved over to socket as suggested in rfc white page rfc response to critiques of proposed mail protocol july rje s model for ftp use or not if both mp as currently defined and rje were instated as uulp subsystems they would still embrace different philosophies regarding their use of ftp as the person who proposed and fought for the current rje model i e to its use of ftp i still believe it to be an elegant one more elegant by far then the one i ve proposed for mp an alternative i considered and discarded solely for reasons of efficiency neglecting perhaps the issue of cleanness of implementation is that the command currently defined as file jew rfc q a gy both in specifying content and in the citation retrieval function be file instead the server is then obliged to retrieve the content of the mail from the designated server process via a third party exchange the redefined file command would be similar to the location command except that the former would specify just content and none of the other static attributes and that the server must retrieve the file which may be a temporary file created by the user process in real time i e before it sends its response to the file command this alternative eliminates the need to borrow the byte sock pasv type stru mode rest and site commands from ftp jew rfc c gy it also allows the user process the flexibility of specifying a file at a host other than his own after some thought i think i agree with crocker and postel that theirs is the better implementation as they point out however this implementation introduces the problem of somehow reconciling the desire to permit in general the transfer of mail files without requiring a login with a server s inability to distinguish that case from the general case of file retrieval for which many hosts will require a login white page rfc response to critiques of proposed mail protocol july use of the date form jan or feb references rcc b discussion agreed order of parameter specification references dhc jbp rfc gy discussion the protocol does not as crocker and postel state impose an order upon command specification within a function see for example jew rfc f b gy having considered their suggestion only briefly it does seem to me appropriate to impose some constraints on the order of parameter specification by the user off hand the order suggested dynamic optional static seems good iii suggested additions forwarding at delivery time references dhc jbp b g discussion including provision for the forwarding of mail at delivery time in contrast to sometime after delivery in response to a specific forward request i e function seems to me a useful addition to the protocol as crocker and postel note only one of the three mechanisms for such forwarding bears upon the protocol although the protocol might mention the other two and either encourage or discourage their use i suggest the following reply format however rather than the one suggested by crocker and postel dhc jbp rfc b c gy white page rfc response to critiques of proposed mail protocol july is his location default signature should be the author references dhc jbp c gy discussion agreed levels of interrupt references dhc jbp d gy discussion i see no value to defining numeric shades of urgency unless the protocol suggests some particular action the server might take in response to each one the whole notion of flagging some pieces of mail as urgent seems to me useless unless the mp server process not the human recipient takes some kind of special action for urgent mail before the human recipient would otherwise be apt to read the mail if one accepts that argument there s clearly no point to defining shades of urgency if they have meaning only to the human recipient true any pair of human users could privately agree on meanings but it seems to me preferable to define those meanings formally or not at all warning the server of the size of mail references dhc jbp rfc f gy discussion agreed further suggestions as to the implementation discouraging servers from requiring logins references dhc jbp rfc j gy discussion agreed this is not a new issue white page rfc response to critiques of proposed mail protocol july iv meta comments size of the protocol document references rcc e gy discussion i offer an apology for the format of the the protocol document it differs radically from that of previous protocol documents e g ftp rje and is certainly not tutorial in its orientation the glossary is a device i found useful in designing the protocol if the substance of the protocol were agreed upon then friendlier documentation would have to be written the choice of approach was greatly affected by my own time constraints as i find time i would like to define the minimum implementation subsets that clements requests for the moment consider the command breakdown below it represents the case where the server permits only the function by which mail is delivered to users in his host it has the following attributes it supports all of the functions of the current ftp mail protocol in addition it makes specification of author and title explicit avoiding the current problem of multiple headers one supplied by the server the other embedded by the user in the text of the message it allows the text of the message to reside at a third host and it permits multiple recipients the breakdown is the following commands that must be implemented author and title could be treated as nops to enter the mail subsystem mail to invoke the delivery function deliver white page rfc response to critiques of proposed mail protocol july to specify the text of the message file location text to identify author s recipient s and title author recipient title to exit the function or subsystem abort exit commands that can be treated as nops they can legally appear in the delivery function access accesstypes catalog clerk comments creationdate deliverytype disposition generaldelivery greeting id referenceserial serial signature commands that needn t be recognized they cannot legally appear in the delivery function commands that invoke unsupported functions distribute forward record retrieve update verify miscellaneous parameter specification commands ackcondition acktype citationtemplate cutoff white page rfc response to critiques of proposed mail protocol july forwardee monitor pathname reportinterval requestor updatetype ca and ca not explained soon enough references dhc jbp rfc a gy discussion agreed change interrupt to urgent or priority references dhc jbp rfc e gy discussion agreed how about urgent carry static dynamic attribute distinction into formal syntax references dhc jbp rfc i gy discussion agreed cryptic default descriptions references dhc jbp rfc k gy discussion agreed this rfc was put into machine readable form for entry into the online rfc archives by sergio kleiman white page 