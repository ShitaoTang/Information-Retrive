 network working group j white request for comments ucsb october specifications for network use of the ucsb on line system introduction ucsb s on line system ols is available to network users as socket number x at site network users should log in with the following ols accounts parameters user number id number user name site name ucla sri utah bbn mit sdc rand whichever is appropriate users communicate with ols through an intermediary process hereafter called the interface which is addressed as socket number x which is termed ols s primary socket and can be invoked through the logger this document is intended to provide programmers with the information necessary to communicate with the interface and to define the input expected and the output returned the readers is assumed familiar with the culler fried system at ucsb from a user s standpoint specifically this document is not a user s manual for ols the interface conducts all network transactions through the ncp which operates under the host host protocol of august the first message sent by the interface is of type the first eight bits are zeros and thereafter for the life of the connection imp message boundaries are not significant similarly the interface expects the first message it receives to be type discards the first eight bits assuming them to be zeros and thereafter for the life of the connection takes no notice of imp message boundaries a word about terminology the is a bit machine but its instruction set is byte oriented a byte is eight bits and those eight bits are numbered from left to right terms such as listen request connection accept a connection and reject a connection are used freely herein to describe those primitive network functions which are user at a foreign site presumably has available to him through his ncp they are used here in the same senses in which they have frequently been used in the nwg literature white page rfc network use of ucsb on line system october logging into the interface to use the on line system the network user must establish a full duplex connection with the interface the interface is core resident only while at least one such duplex connection is established i e while at least one network user is connected at all other times the interface resides on direct access storage and must be invoked through the logger a login sequence can always be initiated by requesting connection to ols s primary socket while in core the interface listens on that socket and will accept any call it receives at all other times the logger listens on that socket and will reject the first call it receives read the interface into core and dispatch it the interface will then listen on the primary socket as before thus to initiate a login sequence the user requests connection to the primary socket if accepted he is in contact with the interface if rejected he should reissue the connection request when accepted he will be connected to the interface a second rejection would indicate that the on line system was inactive or that either the interface or the ncp had exhausted its resources over this initial connection the interface will send eight bits of zeros indicating message type zero followed by a bit socket number which it will select from a pool of socket numbers allocated to it it will then promptly close the connection and reissue the listen to allow other users to begin login it will then request connection of the local socket whose number was sent to the user with the foreign socket whose number is one greater than that of the user s socket similarly it will request connection of the local socket whose number is one greater than that sent to other user with the user s socket once the two connections have been established the interface will consider the user logged in the two connections thus established are maintained indefinitely by the interface over its receive connection hereafter termed the input connection the interface accepts input fro ols over its send connection the output connection the interface relays displays from ols generated in response to the input the interface will terminate the connections only should the on line system terminate the user is expected to close the two connections when finished making the local sockets available for reallocation at which time the interface will consider the user logged off the input connection with the exception of the first tow bytes data received by the interface over the input connection is treated as a continuous stream of one byte key codes potentially endless in extent the interface white page rfc network use of ucsb on line system october passes each key code unexamined to the on line system which in turn processes it exactly as it would input from a keyboard connected directly to the system the set of valid key codes and its relation to the standard ols keyboard are depicted in figure the interface makes no validity check of the incoming data but ols will detect and discard invalid key codes normally the first keys sent over the input connection i e the first keys that the network user pushes should be those necessary to log in to ols the user may log in and out many times during the life of the network connection and these operations are transparent to the interface the last key s sent over the input connection should log the user off of ols syst down failing to log off before terminating the network connection allows the possibility of a later network user s finding himself already logged in the first byte of data received over the input connection is discarded unexamined by the interface which assumes it to be zeros indicating message type zero in compliance with host host protocol no significance is attached to imp message boundaries the second byte of data received is not passed to ols but is examined by the interface by appropriately selecting that second byte the user can cause to be suppressed by the interface any or all of the three classes of output generated by ols and potentially relayable to the user over the output connection the byte is interpreted as follows bit suppress all alphanumeric output bit suppress all curvilinear output bit suppress all special character output bits not examined should be zeros once made this declaration prevails for the life of the network connections a user can avoid transmission of output classes he is unable to process and would therefore have to discard anyway thus avoiding needless network traffic a user operating from a teletype and capable of displaying only alphameric output for example might specify x and thereby suppress all else figure input key code set please view pdf version the output connection with the exception of the first byte data transmitted over the output connection by the interface consists of a continuous string of variable length records the first byte sent consists of zeros indicating message type zero to comply with host host protocol and should be discarded by the user at present there are three classes of records defined one corresponding to each class of ols output white page rfc network use of ucsb on line system october alphameric curvilinear and special characters only records of those classes which have been enabled by the user will be transmitted all other output will be suppressed locally by the interface each record consists of a one byte field specifying the output class a one byte output class dependent field a variable length data field and a two byte field containing the combined length in bits unsigned of the data and output class dependent fields each record has the following form l bits s out class put l dep data class field s the integer above each field is the length of that field in bytes except where stated to the contrary the lengthy of a cord then is given in bits by the contents of the length field plus twenty four the significance of the data and class dependent fields and the output class assignments are given in the following sections for each output class a alphameric output class for alphameric output the output class field contains the following bits unpredictable bits the contents of the class dependent field are unpredictable the data field contains the alphameric display in the form of a contiguous string of one byte characters any character listed in figure may be present the list includes the greek and latin alphabets a variety of special symbols as well as carriage control characters such as carriage return line feed backspace and erase alphameric output records embody system generated messages list mode displays lower keyboard activity on the type level type level operators such as up and down etc the appearance of the character pair back erase x bc in a record represents a command to erase the display scope when not immediately followed by erase back indicates a backspace operation break x is used to facilitate formatting of long messages that may be either printer or display scope destined in generating scope display where there are twenty five characters per line break should be interpreted as a carriage return in generating printer output where longer lines are possible it should be interpreted as a space or blank white page rfc network use of ucsb on line system october figure alphameric output character set name lower code name upper code case case a c alpha b c beta c c chi d c delta e c epsilon f c pi g c gamma h c theta i c iota j d sigma k d kappa l d lambda m d mu n d eta o d omicron p d pi q d phi r d rho s e sigma a t e tau a u e upslion a v e nu a w e omega a x e xi a y e psi a z e zeta a f ss b f ss b f ss b f ss b f ss b f ss b f ss b f ss b f ss b f ss b white page rfc network use of ucsb on line system october name code name code plus e underscore d minus at sign c slash pound sign b apostrophe d cent sign cent sign a logical and dollar sign b asterisk c percent sign c equals e colon a seim colon e left bracket left paren d right bracket right paren d less than c comma b greater than e period b quote f question mark f logical not half arrow f logical or f exclamation a carriage special list control mode characters back backspace space return carriage post list return divide with tab advance to next multiply with line subtract with up line feed up add with enl line feed up carriage return down line feed down diagonal left down arrow delete box with con line feed down pointer a rs position to upper left of miscellaneous display area erase bc break for display scope return dot curvilinear for line display printer space dot dot mode space blank note codes are specified in hexadecimal and are eight bits ss means superscript white page rfc network use of ucsb on line system october b curvilinear output class for curvilinear output the output class field contains the following bits indicates line segment mode adjacent display points are to be connected by straight lines indicates dot mode indicates character mode the class dependent field contains a character from figure which is to be displayed at each point dot dot mode is character mode with the display character dot x bits unpredictable bits for character mode the class dependent field contains the display character in other cases the contents of that field are unpredictable the data field contains a list of x y display coordinates as depicted below s x y x y xn yn s xi and yi are the x and y display coordinates after scaling of the ith component of the vector represented by this record each coordinate is contained in a two byte field therefore one component in four bytes and hence the context of the vector being displayed is given by the contents of the length field minus eight divided by thirty two the assumed display area is square with original at lower left and both x and y ranging between and there is a one to one correspondence between vectors displayed and curvilinear output records transmitted c special character output class for special character output the output class field contains the following bits unpredictable bits white page rfc network use of ucsb on line system october the contents of the class dependent field are unpredictable the data field contains a contiguous string of variable length characters each representing either a move in one of sixteen directions or a change in position relative to the lower right corner of the last character frame where for alphameric and special character display the display area is square units in extent vertically and horizontally and a character frame is units wide and units high the sixteen characters which define move operations are listed in figure and each is one byte long such a character indicates a move from the current position in the specified direction a distance equal to that of a move in the same direction from the center of a unit square to its perimeter the length of the move is therefore functionally related to its direction a change in position relative to the lower right corner of the last character frame is represented by a four byte character of the form bits bits x delta x delta y where delta x and delta y are signed quantities indicating the number of units change along each coordinate figure special character vector character set direction code white page rfc network use of ucsb on line system october note codes are specified in hexadecimal and are eight bits directions are specified in degrees increasing counter clockwise from o at positive x in an x y coordinate system text enclosed in brackets describe non ascii characters that were present in the original document please see the pdf file for the actual representations white page 