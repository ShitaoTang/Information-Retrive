 network working group d crocker request for comments j postel category protocols telnet august nic remote controlled transmission echoing telnet option currently a terminal in character at a time transmission and foreign host echo causes four network messages for each character struck the character sent from local to foreign host its rfnm the echoed character sent from the foreign to the local host and its rfnm by eliminating most echoing as many messages and packaging the characters into useful units assuming an average of five character per unit therefore another per cent reduction it is believed that almost a per cent reduction in character mode interactive network terminal traffic can be attained the packaging of characters and elimination of foreign echoing should also lessen the load placed on the foreign hosts command name and code rcte command meanings iac will rcte the sender of this command requests or agrees to use the rcte option and will send instructions for controlling the other side s terminal printer iac won t rcte the sender of this option refuses to send instructions for controlling the other side s terminal printer iac do rcte the sender request or agrees to have the other side sender of will rcte issue commands which will control his sender of the do output to the terminal printer crocker et al page rfc rct echoing telnet option august iac don t rcte the sender of this command refuses to allow the other side to control his sender of don t terminal printer iac sb rcte bc bc tc tc where is one bit byte having the following flags bits are counted from the right bit meaning ignore all other bits in this byte and repeat the last that was sent equals a continue what you have been doing perform actions as indicated by other bits in this byte print echo break character skip don t echo break character print echo text up to break character skip don t echo text up to break character continue using same classes of break characters the two bit bytes following this byte contain flags for the new break classes continue using same classes of transmit characters reset transmit classes according to the two bytes following the break classes bytes if the break classes are also being reset or this byte if the break classes are not also being reset value decimal of the byte and its meaning continue what you have been doing print echo up to and including break character print up to break character and skip don t echo break character skip text don t echo up to break character but print break character crocker et al page rfc rct echoing telnet option august skip up to and including break character add one of the previous non zero values to one of the following values to get the total decimal value for the byte note that classes may not be reset without also resetting the printing action so an odd number is guaranteed set break classes using the next two bytes bc bc set transmission classes using the next two bytes tc tc set break classes using the next two bytes bc bc and the transmission classes using the two bytes after that tc tc sub commands iac sb rcte are only sent by the controlling host and in addition to other functions functionally replace the go ahead iac ga telnet command default won t rcte don t rcte neither host asserts special control over the other host s terminal printer motivation for the option rfc s and discuss network and process efficiency and smoothness rfc by john davidson introduces the problem of echoing delay that occurs when a remote user accesses a full duplex host thru a satellite link in order to save the many thousands of miles of transit time for each echoed character while still permitting full server responsiveness and clean terminal output an echo control similar to that used by some time sharing systems is suggested for the entire network in effect the proposed option involves making a user host carefully regulate the local terminal printer according to explicit instructions from the foreign serving host crocker et al page rfc rct echoing telnet option august an important additional issue is efficient network transmission implementation of the davidson echoing scheme will eliminate almost all server to user echoing the proposed option also requests using hosts to buffer a terminal s input to the foreign host until it forms a useful unit with useful unit delimited by break or transmission characters as described below therefore fewer messages are sent on the user to server path n b this option is only intended for use with full duplex hosts the go ahead telnet feature is completely adequate for half duplex server hosts explicit description of control mechanism a overview of interaction agree to use rcte option user holds echo printing until instructed by server to do otherwise server may send output to terminal printer network output is printed up to an rcte command server sends iac sb rcte user acts upon the command up to a break character or until receipt of output from the server host go to note output from the server host may occur at any time in which case the flow of control switches to and then proceeds to etc b explanation both hosts agree to use the rcte option after that the using host iac do rcte merely acts upon the controlling serving host s commands and does not issue any rcte commands unless and until it using host decides to stop allowing use of the option by sending iac don t rcte user host begins synchronization between the serving host and itself by suspending terminal echo printing until directed to do otherwise by the controlling host thru an iac sb rcte crocker et al page rfc rct echoing telnet option august the server may send output to the terminal printer either in response to input from the user in which case it is already synchronized with the terminal input or spontaneously in the latter case flow of control automatically switches to and continues from there output from the server is defined as completed when step occurs that is text from the server to the terminal printer must end with an rcte command any output from the server is printed on the terminal immediately again note that the end of such output is defined to be the occurrence of an iac sb rcte command server sends an rcte command the command may redefine break and transmission classes action to be performed on break characters and action to be performed on text each of these independent functions is controlled by separate bits in the byte a a transmission character is one which requires the user host to transmit all text accumulated up to and including its occurrence for net efficiency user hosts are discouraged from sending before the occurrence of a transmission character if the transmission classes bit bit is on the two bytes following the two break classes bytes or immediately following the byte if the break classes bit is not on will indicate what classes are to be enabled if the bit is off the transmission classes remain unchanged when the rcte option is first initiated no classes are in effect that is no character will be considered a transmission character as if both tc and tc are zero b a break character has the effect of a transmission character but also causes the user host to stop its print discard action upon the user s input text until directed to do otherwise by another iac sb rcte command from the serving host break characters therefore define printing units break character as used in this document does not mean telnet break character if the break classes bit bit is on the two bytes following will indicate what classes are to be enabled there are currently nine classes defined with room for expansion crocker et al page rfc rct echoing telnet option august if the bit is off the break classes remain unchanged when the rcte option is initiated classes and are to be in effect that is format effectors non format effector control characters and del and punctuation characters are to be break characters c the list of the character classes used to define break and transmission classes are listed at the end of this document in the tables section d because break characters are special the print discard action that should be performed upon them is not always the same as should be performed upon the rest of the input text for example while typing a filename to tenex i want the text of the filename to be printed echoed but i do not want the if i use the name completion feature to be printed if bit is on the break character is not to be printed e a separate bit bit signals whether or not the text itself should be printed echoed to the terminal if bit then the text is to be printed f yet another bit bit right most bit signals whether or not any of the other bits of the command should be checked if this bit is off then the command should be interpreted to mean continue whatever echoing strategy you have been following using the same break and transmission classes this is particularly useful for the command that follows spontaneously generated output from the serving host such as system going down which needs to signal end of message but does not usually want to reset any other conditions the server may however alter user action after a spontaneous message but it is possible that text will be lost or printed when it should not be since there is no guarantee that the rcte from the serving host will be properly synchronized with the terminal input crocker et al page rfc rct echoing telnet option august input from the terminal is hopefully buffered up to the occurrence of a transmission or break character and the input text is echoed or not echoed up to the occurrence of a break character the most recent rcte command determines the echo transmission and break actions when a break character is typed the cycle of control is complete and action re commences at action also automatically switches to upon receipt of any text from the server host c notes comments etc even numbered commands greater than zero are in error since they will have the low order bit off the command should be interpreted as equal to zero which means that any classes reset bytes tc tc bc bc will be in error servers will generally instruct users not to echo break characters even though it might be alright to echo most break characters for example is usually a safe character to echo but is not tenex exec is willing to accept either during filename specification therefore the user must be instructed not to echo any break characters this is generally a tolerable problem since the server has to send an rcte command at this point anyhow adding the break character to the message so that it appears to be echoed will not cause any extra network traffic the rcte option entails a rather large overhead in a true character at a time situation this overhead is not justified but on the average it should result in significant savings both in network traffic and host wake ups a severe user site dependent problem will be buffering type ahead input from the terminal it is possible especially in the case of tips that the input buffer will overflow often if the receiving serving host will permit the accumulated text should be transmitted at this point if the text cannot be transmitted and further typing by the user will result in lost text the user should be notified crocker et al page rfc rct echoing telnet option august d sample interaction s is sent from serving will rcte host to using host u is sent from using do rcte host to serving host t is entered by the terminal user p is printed on the terminal text surrounded by square brackets is commentary text surrounded by angle brackets is to be taken as a single unit e g carriage return is and the decimal value is represented the following interaction shows a logon to a tenex initiation of the ded editor insertion of some text and return to the exec level a telnet connection has already been opened but the tenex prompt has not yet been issued the hosts first discuss using the rcte option s u s tenex tenex exec print the herald and echo input text upto a break character but do not echo the break character classes format effectors non format effector controls and and act as break characters p tenex tenex exec t login arpa p login u login s p arpa u arpa s password p password crocker et al page rfc rct echoing telnet option august t washington the password washington is not echoed action on is withheld u washington s p u s job on tty jun p job on tty jun t ded p ded u ded s sav p sav u s ded dro krk the program is started and the ded prompt is sent at the command level ded responds to every character p ded drp krk t ithis is a text line this is another test line z q i means insert text the text follows terminated by a control z the q instructs ded to quit u i crocker et al page rfc rct echoing telnet option august s i ded prompts the user during text input with an asterisk at the beginning of every line p i this is a test line u this is a test line s p this is another test line u this is another test line z s zlf the returned z is two characters not the ascii control z u q note that the q is not yet printed on the terminal since it is a break character s q p q and the user is returned to the exec level e tables is one bit byte having the following flags bits are counted from the right bit meaning ignore all other bits in this byte and repeat the last that was sent equals a continue what you have been doing perform actions as indicated by other bits in this byte print echo break character skip don t echo break character crocker et al page rfc rct echoing telnet option august print echo text up to break character skip don t echo text up to break character continue using same classes of break characters the two bit bytes following this byte contain flags for the new break classes continue using same classes of transmit characters reset transmit classes according two the two bytes following the break classes bytes if the break classes are also being reset or this byte if the break classes are not also being reset byte value decimal and its meaning continue what you have been doing even numbers greater than zero i e numbers with the right most bit off are in error and should be interpreted as equal to zero when the is an even number greater than zero classes bytes tc tc and or bc bc must not be sent print echo up to and including break character print up to break character and skip don t echo break character skip text don t echo up to break character but print break character skip up to and including break character add one of the previous non zero values to one of the following values to get the total decimal value for the byte note that classes may not be reset without also resetting the printing action so an odd number is guaranteed set break classes using the next two bytes bc bc set transmission classes using the next two bytes tc tc set break classes using the next two bytes bc bc and the transmission classes using the two bytes after that tc tc crocker et al page rfc rct echoing telnet option august classes for break and transmission the right most bit of the second byte tc or bc represents class the left most bit of the first byte tc or bc represents the currently undefined class upper case letter a z lower case letters a z numbers format effectors non format effectors control characters and square box symbol and telnet commands iac are always to have the effect of a break character this rfc was put into machine readable form for entry into the online rfc archives by via genie crocker et al page 