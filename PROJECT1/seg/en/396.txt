 network working group a bhushan request for comments mit mac updates rfc rfc november nic file transfer protocol ftp status and further comments a number of hosts have working server and user ftps now the following reflects the status of ftp implementations to the best of my knowledge bbn a and b sri arc utah case usc isi cca mit ai mit mathlab mit dmcg cmu ames and su ai have fully functionning server and user ftps mit multics has user and server ftps but the server does not listen on socket it can be started by normal login and the command ftp server ucsb will soon have user and server ftp s the servers at all the tenex systems are more or less identical developed by bob clements at bbn the servers at mit ai and mit ml are also identical developed by pitts jarvis of mac others currently involved with ftp include arvola chan ac mit dmcg ken pogran multics greg hicks hicks utah wayne hathaway ames ralph gorin su ai rick werme cmu and ron stoughton ucsb the user ftp or the user interface to ftp is where desirable and interesting features can be put in an example of such a features is the bbn and other tenexes sndmsg user host feature which allows a local user to send messages or mail to other network users if the remote host is not up the message is stored as unsent mail userhost in the user s directory and a background job periodically checks for such files to send mail mit ai and mit ml have a trans command which allows convenient transfer of files at mit dmcg we have developed under the calico subsystem generalized commands which allow local users to send mail copy files efficiently and list users and directories over the network in a manner similar to local usage that is without having to explicitly connect login and send commands to a remote host we also allow telnet ftp and rjs users to automatically login and perform other command sequences from an initial file it should be noted that file transfer between pdp s in image is an order of magnitude faster and more efficient than in ascii note also that it is useful to provide a quote or talk mode in user ftp to enable a user to input commands directly to the ftp server i e commands not implemented in user ftp it is desirable bhushan page rfc ftp status and further comments november that user and server ftp features and desirable modes of usage be documented and reported via the rfc mechanism the following suggestions and additions pertain to the file transfer protocol as stated in nwg rfc and nwg rfc after receiving comments to this rfc i will have the three rfc s combined into a single document and have it issued as the arpanet official file transfer protocol very soon it should however be noted that ftp is an open ended protocol with room for experimentation new commands reply codes data representation types and file structures may be defined in future if two sites agree they can define their own experimental set of commands data types file structures and or transfer modes such additions to the protocol should be well documented and clearly specified so that other sites can also make use of the same the ftp assumes line at a time interaction with local acho the server is not obliged to provide remote echo and may ignore telnet control characters a server however should not give error or bad response on receiving telnet control characters the server does not explicitly provide any editing capability such as character delete or line kill characters all editing is assumed to be local tip users should use ftp in line mode and send both and by tip commands t o l and i l in such a mode the tip user can flush his current input line by the flush command f the server should respond to the telnet synch by flushing the current command line and waiting for user input such as an abor command other commands such as bye or stat may also constitute an acceptable input commands such as stat which will produce more than one line of output over the telnet connection require some way of positively indicating the end of status information it is proposed that a status complete reply give a positive indication for end of status information the reply to stat should begin with a line starting with xx where x digit with the following lines not having a digit as their first character and the status ending with the reply note that the requirement of three spaces is dropped in favour of the less restrictive requirement of the first character not being a digit this change would make operations much easier for both user and server ftps a reminder that bye is legal a space after a command name is not required if there is a null argument bhushan page rfc ftp status and further comments november the following response are proposed to the stat and list commands this was not clearly specified specially for the null argument case responses to stat and list shall always be over the telnet and data connections respectively the list command with null argument should produce a list of files in user s current working or default directory the stat command with null argument should as suggested by wayne hathaway produce tha status of all file transfer parameters user byte size data type transfer mode and file structure if used between file transfers i e no transfer in progress if stat is sent during a file transfer operation accompanied with telnet synch the server should respond with the status of the operation in progress if the argument of the list and stat commands is a pathname then a list associated with that pathname should be sent two new commands are hereby proposed first is a help command which should send to the user helpful hints about using the server and its implementation status news the information will be sent over the telnet connection starting with type reply and ending with a type reply completion it is suggested that the use of this command and the mail and bye commands be allowed without the user having to login i e supplying valid user password and account the other command suggested by bob clements is a new directory listing command called nlst which sends only the names of files as valid pathname strings separated by crlf and no other useful but confusing information so that it is possible to copy a whole directory automatically using this command and the store and retrieve commands the syntax and format of this command is identical to the list command for some hosts they may be identical commands although the minimum implementation does not require the type byte mode and stru commands it is suggested that these commands be accepted with the default values by even those having a minimum implementation this would avoid some of the ugly error responses to input such as type a and stru f when these are perfectly acceptable to the server in using the mlfl and list commands it is the user s or user ftp s responsibility to ensure that the type is ascii bit bytes if the type is other than ascii the server may send an error response and refuse the command the user or user ftp should therefore send the server type a command if type is other than ascii before sending the mlfl or list type commands bhushan page rfc ftp status and further comments november a useful suggestion is to allow multiple user names in the mail and mlfl commands often a user wishes to send the same mail to a number of users at particular site it would be very convenient if he can do this by doing a single transfer and command it is strongly urged that server sites implement this option another suggestion that has been made is to standardize pathname syntax in ftp it appears that subdirectories will soon be introduced in the tenex system perhaps that will have some bearing on the standard pathname syntax the requirements of any pathname standard scheme are that it should allow convenient use of local pathname conventions and not conflict with it a reasonable proposal seems to be to have the standard pathname start with a special character such as as in multics and to use this special character to separate the elements of a pathname if the special character happens to ba valid part of a pathname element use the literal quote convention of single quote to precede the special character examples of pathnames under this convention would be udd cnet doe foo bar for multics dsk jfd foo bar for its doe foo bar for tenex the requirement of account numbers by tenexes has caused a certain problems for automatons using ftp under the present reply code sequences therefore two new reply codes are defined to handle the account requirement a reply code of enter account shall be used if an account is required as part of user login sequence a reply code of cannot store files without valid account enter account be used if an account is required only for a particular operation such as store the following suggestions made by wayne hathaway rfc forthcoming seem reasonable and should be included in the protocol i the following end of record condition should be explicit on last record and not implied in an end of file this change would simplify server implementation and improve reliability better error control ii implementors of user ftp s should note that it is trivial for them to implement record structures in ascii type and stream mode the default crlf convention for end of record all user ftps should allow store or retrieve of record structured files with ascii type and stream mode bhushan page rfc ftp status and further comments november iii it is possible to send record strutured print file types in addition to ascii type in either stream or text modes rfc was not clear on this issue iv the telnet synch mechanism should be extended to other commands such as bye and stat in addition to abor v comments are invited on the desirability of noop clse and srvr commands in my opinion a stat command with null argument serves the purpose of noop to see if server is still alive and bye serves the purpose of clse user command should be used to change user name srvr is a useful command bob clements raised the old issued of error detection and control again to handle this we can define two new descriptor codes in the block mode one that signals start of block check and the other that indicates end of block check and includes the block check bytes these codes may be ignored by any site not wishing to implement the error detection scheme your comments on the error check scheme and the desirability of its inclusion in ftp are solicited this rfc was put into machine readable form for entry into the online rfc archives by helene morin via genie bhushan page 