 network working group april request for comments e e harslem rand nic j f heafner rand e meyer mit a request for comments on socket name structure introduction this rfc is in answer to a request made at the february nwg meeting at the university of illinois that we comment on several suggested socket name structures we apologize for the delay in getting out these comments and we hope that you will respond more quickly with your reactions please direct your replies via the standard rfc mechanism two structures are presented in this rfc as shown below arbitrary gender user id tag gender three variations are given for the way in which socket names are assigned as examples of use of the first structure users pick the arbitrary number arbitrarily and associate it with a process a logger chooses the arbitrary number dynamically and associates it with a process via a directory the arbitrary number is assigned outside of a logger but may be issued by a logger to the remote party page the second format shown above associates sockets specifi cally with users as opposed to processes the following discussion covers three different schemes of socket identifier assignment using a simple example user a at host a has agreed by letter telephone etc with user b at host b for their respective processes to establish a connection through the network at a particular time user b is to be waiting for the connection attempt initiated by user a the issues to be faced are those of addressing how is user a to know to which socket to connect and of security how are both users to be confident that they are talking each other and not some interloper a fourth scheme follows which addresses another concept of network use that connections are made between processes and that processes not users should be identified via socket names freely selected random socket identifiers scheme under this scheme a user is able to use any bit socket identifier he chooses two restrictions apply the least significant bit denotes the socket s gender read write and no more than one socket bearing a given iden tifier can be active at a host at a time the two users select suitably random identifiers a and b user a will attempt to activate his socket with identifier a an connect it to socket b at host b there is the possibility that somebody other than user b has activated socket b at host b so that user a will address the wrong party however the possibility that some other user has accidentally picked this particular identifier is reasonably small since there are about a billion different identifiers when the connection request from a gets to user b he examines the identifier of the calling socket if for some reasom it is not a or not from host a he rejects the request because it is likely to be from some page outside party if the calling socket is named a and from host a user b can be reasonably sure that it is from user a it is very unlikely that some other party will accidentally address socket b from a socket named a the advantages of this scheme are simplicity and reasonable security in a non malicious environment the disadvantages are that there are possibilities from annoy ingly unavoidable conflicts with other users and that each pair of users must conduct a prior confidential private communication as opposed to a broadcast announcement in more secure schemes host selected identifiers plus directory scheme this system uses the same socket identifier structure as presented above except that the host picks the identi fier at the time the socket is assigned and the user has no no prior knowledge or control of the assignment by itself this system would be totally unusable because there would be no way for user a to address user b however it allows certain service functions such as the network logger to have specifically assigned sockets one of these is a network directory service this serves to relate a socket identifier at a particular host to the name of the user operating it this might either be a single distributed service or there might be a separ ate service at each host under this scheme each user a and b first activates his socket or somehow gets his host to assign and tell him of a socket identifier then he gets the directory module at his host to associate his name with the identi fier of the socket just activated following this user a in some manner gets the directory service at host b to tell him the socket identifier assigned to user b then user a dispatches a connection request for this socket page when user b gets the request he similarly calls on the directory service at host a to find out the name of the user who is operating the socket user b was called by if the name is that of user a user b can safely accept the request otherwise he rejects this scheme is rather cumbersome but some directory services must exist for host selected socket identifiers to work on advantage of the directory service is thst it allows symbolic addressing a sizeable disadvantage in view of its complexity is that it does not provide absolute security for exemple after user a gets the identifier of the socket he is to address user b could deactivate it and somebody else could come along and get the same named socket administratively assigned user identifiers scheme this is the system that is put forth on page of protocol document under it a user is permanently assigned a user identifier by his home host there is a user identifier subfield within the socket identifier and a user is permitted by an ncp to operate only those sockets bearing his uder identifier this gives the user a selec tion of sockets operable by him in arranging for the connection the two users a and b tell each other their user identifiers alternatively a user id could be read from a directory and user b specifies which of his sockets b that he will listen on at connection time user a selects one of his sockets and requests connection for it to socket b specified by user b by protocol only user b can operate socket b so user a can be certain of reaching the right party when user b receives the connection request he examines the user identifier subfield of the calling socket identifier if it is the user identifier of user a user b accepts the connection request confident that it is actually user a at the other end otherwise b rejects the request page the advantages of this scheme are that if both hosts involved in a connection enforce the user id assignment the misconnection aspect of security is solved and there can be no socket naming conflict between users also arrangements can be made openly and publicly between many potential communicators a disadvantage to this scheme is that some systems may be incapable of insuring user id integrity a view of socket name meaning scheme another view of network use is that programs will con nect to programs via ncps some of these programs may be multi access subsystems that are really agents for local consoles and telnets consoles will generally communicate through some such software agent rather than directly to an ncp programs then must have a fixed unique identifier known to its remote users and perhaps to its local logger the identifier is constant it does not change from day to day if such a program is to allow multiple concurrent connections for many or a single user then it must have a range of variable identifiers as well it makes sense to group these sockets in a contiguous range the variable identifiers are transient and are dynamically associated with network logical connections fixed unique variable identifier identifier identifies the identifies a particular program uniquely connection of the program page the above premise is that the program or agent is doing the communicating with an ncp and thus needs to be identified for message traffic routing from an ncp in the past it has been said that users can be mobile i e log on from different sites and thus it is the user that needs identification in many typical on line systems the user first requests a service and then identifies himself to the service for purposes of accounting etc user ids can be transmitted after requesting a service and can thus be elevated above the meaning of socket names a program might typically associate the terminals for which it is an agent with the variable part of the identi fier i e the particular connection s for example the network services program nsp at rand now uses the following format for socket names the first bits are administratively assigned and would be known to a logger the multiplex code is normally chosen randomly predefined fixed multiplex codes are possible also program number multiplex gender code the socket name structure page thus accomodates the above example as well as other exploratory socket name structures and various standards superimposed on the arbi trary field this rfc was put into machine readable form for entry into the online rfc archives by simone demmel page 