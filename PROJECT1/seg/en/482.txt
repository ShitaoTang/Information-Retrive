 network working group request for comment nic the definition of a socket joel m winett lincoln laboratory may category c c d h rfc obsoleted none rfc updated none related rfcs rfc nic this material has not been reviewed for public release and is intended only for use with the arpa network it should not be quoted or cited in any publication not related to the arpa network page massachusetts institute of technology lincoln laboratory to network socket committee and network community may from j m winett ll subject the definition of a socket a socket is defined to be the unique identification to or from which information is transmitted in the network the socket is specified as a bit number with even sockets identifying receiving sockets and odd sockets identifying sending sockets a socket is also identified by the host in which the sending or receiving processer is located previous network papers postulated that a process running under control of the host s operating system would have access to a number of ports a port might be a physical input or output device or a logical i o device supported by system calls to the host s operating system the latter category includes a i o directed to a physical device which is being spooled by the operating system b a physical device whose basic characteristics have not been altered but whose access has been limited and possibly transformed by a mapping algorithm e g device address mapping or cylinder relocation as in virtual mini disks c access to a file system through a directory and access method maintained by the operating system d a procedure for process to process communications e a procedure for machine to machine communication such as defined by the network protocol a socket has been defined to be the identification of a port for machine to machine communication through the arpa network sockets allocated to each host must be uniquely associated with a known process or be undefined the name of some sockets must be universally known and associated with a known process operating with a specified protocol e g a logger socket rje socket a file transfer socket the name of other sockets might not be universally known but given in a transmission over a universally known socket c g the socket pair specified by the transmission over the logger socket under the initial connection protocol icp in any case communication over the network is from one socket to another socket each socket being identified with a process running at a known host the question arises as to whether socket names must be known to users of network programs or whether the specification of sockets can be made transparent to the user also should the socket used at one time by a process be the same socket used at a later time by the same process for the same purpose if sockets are not transparent to the user then the sockets used must not be dependent on the order in which network connections are made page network socket committee and network community may the definition of a socket is also related to the accounting procedures followed for network usage network control programs ncps should log each connection made and record the time the connection was made the time the connection was closed the number of messages and number of bits transmitted over the connection the sending and receiving hosts and the sockets at the sending host and receiving host which participated in the connection in order for these sockets to be meaningful they should be identifiable with the user account or process name with which each socket is associated it has previously been suggested that the sockets used by a network user be identified with that user no matter which host he used for network communications users would be registered at some host and be identified as a user from that host even if he used the system as a second host to communicate with the system at a third host to satisfy the above requirements within the name space of a bit socket the following procedure is suggested this procedure has been implemented with the ncp on the lincoln laboratory system and is used by all processes making use of network facilities a bit socket is divided into an bit home field a bit user field and an bit tag field the tag consists of a bit plug and a one bit polarity where a polarity indicates a receive socket and a polarity indicates a send socket thus a user on one host system may run processes with up to send sockets and receive sockets this procedure allows for hosts and users per host the only difficulty is in mapping user or process identifiers at a host into a bit user number this may be done through a table lookup possibly using a hash coding technique though many systems have a unique run time index associated with each process if this index were used as the user number the user number would not be the same each time the process were used for network activity what is required is a unique mapping from a process identifier usually a character string into a bit binary number the sockets used for facilities following a common network protocol such as the icp should also follow this socket definition thus the logger socket at the lincoln laboratory would be and is x a i e home user and tag this procedure for defining sockets enables an accounting procedure for identifying users of network facilities and for measuring network usage this rfc was put into machine readable form for entry into the online rfc archives by bbn corp under the direction of alex mckenzie page 