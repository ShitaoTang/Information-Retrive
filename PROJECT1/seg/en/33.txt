 network working group vint cerf request for comments ucla nmc nic march formation of network measurement group nmg on march at mit project mac the following group met to discuss plans to perform measurement experiments on the arpanet a bhushan mit dmcg v cerf ucla nmc chairman nmg s crocker arpa ipt j forgie ll tx r metcalfe mit harv dmcg m padlipsky mit multics j postel ucla nmc j winett ll the purpose of the meeting was to discuss existing and planned measurements of network and host behavior measurement link s it was agreed after a ridiculously long discussion to allocate links for network measurement only see rfc it was further agreed that these links would be allocated in the following way host discard co operating hosts receiving messages on these links will throw them away without generating an error message to be allocated as needed by v cerf ucla nmc to be used by imps to send measurement traffic obtained from imp statistics packages cerf page rfc formation of network measurement group march it should be apparent that hosts wishing to co operate in the support of a host discard service should modify their ncp s to throw away all messages received on links without sending an error back to the source host no connection will be open on these links process discard although it was not mentioned at the meeting c kline at ucla has suggested a process discard also with some well known socket number the purpose of this discard routine would be to help us study process process behavior of the network it would be convenient if all co operating hosts could write a process discard program which would simply wait for icp on some standard socket number until a complete survey is made of well known socket numbers at each host no socket number will be proposed see rfc ncp statistics at the meeting it was apparent that several sites have already instrumented their ncp s out of curiosity in particular joel winett lincoln labs has instrumented all connections originated by local telnet users he gathers statistics per connection such as a network connect time b ncp cpu time c number of reads or writes on connection d time stamps on first rfc last rfc first close last close e number of messages and bits transmitted f log of errors sent or received multics gathers summary statistics on the number of regular type messages sent and received and the number of irregular messages not type sent or received cerf page rfc formation of network measurement group march the nwg agreed to implement a minimal ncp instrumentation procedure which would gather by host for some standard hour period e g local midnight to local midnight the following a total bits sent to host b total bits received from host c total messages sent to host d total messages received from host and optionally e average round trip delay on send connections to host the information above should be collected only for standard open connections i e those using standard ncp protocol and not measurement links or experimental ncp links and in particular not traffic on link another optional measurement would be to gather the distribution of message types over link over all hosts i e not broken down by host this will reveal the relative utilization of control messages alloc should be very prevalent the data collected for the last hour sample period should be available from a process whose well known to be specified socket number will support icp and will produce a message in the following format cerf page rfc formation of network measurement group march word day time on leap year time in minutes at which sample was started ranges from midnight to word source byte n format host size network host number c r b m message number of host statistics related entries in message byte statistics number of bits per average byte in byte statistics round trip time control message distribution cerf page rfc formation of network measurement group march the remaining words of the message depend on format byte setting foreign host always present messages received if format bit m set bytes received if format bit b set n of these entries message sent if format bit m set bytes sent if format bit b set average delay if format bit r set this is average rfnm delay in milliseconds type count if format bit c set these are link control message distributions for the sample period cumulative over all hosts if a type is not present its count is assumed to be type count the process sending these statistics will continue to send data until it has transmitted the entire statistics sample at which time it will close both connections the process which requested the initial connection is expected to continue to allocate space as it is available until it receives a close request on the open connections it then responds with matching closes the sending process should not close until it has received a rfnm for the last message it wishes cerf page rfc formation of network measurement group march to send process level measurements r metcalfe mit dmcg suggested that the nwg consider trying to gather the following data about network connections capacity in bits sec transmission delay mean time between failures percent availability these statistics characterize connections as communication commodities and would be the kind of information one would want if network connections were for sale as off the shelf items the first two measures are fairly easy to obtain although they may vary from connection to connection the last two are harder to get at and will require some planning to measure host surveys several hosts have built or are building automatic survey programs which periodically test and record the status of various hosts bb n ellen westheimer has been doing this manually on a daily basis mit dmcg has a program developed by r metcalfe and m seriff which gathers these statistics every minutes and stores the data away in messaged form the data can be retrieved through the network program at dmcg a summary can be obtained by host declaring the time vp overall samples and the message response to perform icp in seconds this program also keeps the state of the hosts according to the following measures code meaning host not surveyed host dead according to imp ncp not responding to reset request second time out ncp rejecting icp got close response logger not responding second time out after icp request logger available i e icp successful followed by close request by dmcg details and sample data are available in an rfc produced by m seriff rfc nic at ucla m kampe is implementing a similar cerf page rfc formation of network measurement group march program j postel and v cerf plotted ellen westheimer s data for hosts open regarding host advertising of service of hours and found the resulting plot rather interesting the result is reproduced in the figure below on a moving average the number of hosts open seems to be increasing which is a good sign here was a figure file transmission statistics at mit dmcg h brodie has measured transmission delay and total throughput as a function of file size for transmissions to and from ucsb s simple minded file system the nwg is interested in specifying certain measurements which should become a standard part of any file transmission protocol implementation in particular distributions of file sizes transmission delay and perhaps destination would be of interest throughput measurements could also be used to correlate with metcalfe s suggested connection measurements artificial traffic generator ucla and lincoln labs have experimented with artificial traffic generators as a means of testing network capacity at lincoln labs j forgie used the to generate traffic from a normal user process depending on system load he was able to maintain traffic rates ranging from bps to k bps ucla has had a generator for about a year and has managed to obtain transmission rates around k bps using multiple links for parallel transmission the nwg is interested in having such artificial traffic generators available at several hosts as a means of artificially loading the network ideally generators could be started by a telnet like protocol and would permit specification of a link s to send on b destination host s or imp s discard c inter arrival time distribution for messages sent on each link i e possibly different distribution for each link or at least average iat for assumed exponential distribution an average iat of would imply rfnm driven traffic d message length distribution or average or fixed length for cerf page rfc formation of network measurement group march each link cerf page rfc formation of network measurement group march it would also be helpful to accumulate average round trip times and total bits sent for the duration of the experiment at ucla the traffic generator permits the following specifications a message header includes link b message length for each link distribution can be constant for each link c message inter arrival time distribution for each link d duration of generation in seconds we can also send imperative commands to the program to stop message generation prematurely throughput and average response times round trip delays are automatically accumulated for each link and are published at the end of the experiment a more sophisticated version will also permit specification of icp socket number for the process discard experiments the idea is to have a number of artificial traffic generators available at different sites and to be able to start these up remotely from ucla nmc during the course of a measurement experiment more details of the desired generator will be published in another rfc measurements at other sites people at sites not mentioned may have done some measurement work and the nwg encourages these people to publish their results if anyone is interested in co operating with the nwg in making ncp measurements or what have you please get in touch with vint cerf ucla nmc computer science department boelter hall los angeles california this rfc was put into machine readable form for entry into the online rfc archives by h l ne morin viag nie cerf page 