 network working group g deloche request for comment university of california at los angeles nic may host imp interface g deloche prof j estrin prof l kleinrock prof b bussel d mandell s crocker l bonamy object arpa network specification outlines for host imp hi interface programs outline i introduction ii scope of the software organization ii network program ii handler program iii questions the original of rfc was hand written and only partially illegible copies exist rfc was later typed int nls by the augmentation research center arc at sri the following is the best reconstruction we could do rfc editor deloche page rfc host imp interface may i introduction this paper is concerned with the preliminary software design of the host imp interface its main purpose is on the one hand to define functions that will be implemented and on the other hand to provide a base for discussions and unreadable this study is based upon a study of the bbn report no ii scope of the software organization the system is based upon two main programs the handler program that drives the channel hardware unit and the network program which carries out the user s transmission requests as the communication is full duplex each of these programs can be viewed as divided into two parts one is concerned with the output data the other with the input see fig these two programs exchange data through a pool of buffers and logical information through an interface table in the following we only focus on the output part of each program see fig the input part would be very similar ii network program ii multiplex function this program multiplexes the outgoing messages and distributes the incoming messages the multiplexing consists in stacking up all the user s or caller or party requests and filling up the pool of buffers so as to keep the handler busy emitting multiplexing and distribution is based on the link identification numbers link logical connection between two users the multiplexing problem is closely related to the interface between a user s program and the network program that is in fact unreadable operating system see below questions ii output message processing when a user s program wants to send out text it should indicate the following information through a macro or as call parameters text location text length in bytes and destination deloche page rfc host imp interface may using these data the network program prepares a bit host heading bit trace bits spares bits link identification no bits destination host inserts a bits marking between the header and the text so as to start the text at a word boundary this marking consists of a one preceding the first bit of the text and in turn preceded by fifteen zeros to fill up the gap checks the length of the user s text if it exceeds bytes max host message length heading marking byte bits the program breaks down the text into a sequence of messages whose maximum length is bytes each of these messages is preceded by a heading as explained above remark in that case one of the heading space bits could be used for indicating that several messages belong to the same text transcodes the ebcdic characters constituting the messages into ascii characters fills the buffers of the pool with the content of the messages updates the content of the interface table and moves the filling pointers see below ii handler program this program is initiated either by the network program or by the i o interrupt this program will be very short it will be coded in master mode privileged instructions and should be integrated in the i o supervisor of the operating system deloche page rfc host imp interface may this program controls the channel hardware unit it initiates the emission eventually provides data chaining between the buffers tests the different device status upon receiving an interrupt empties the buffers that are filled up by the network program explores and updates the interface table see below can eventually insure a control transmission procedure with the imp see questions ii buffers and interface table ii buffers they should be large enough for containing the maximum host message text heading and marking bytes consequently the buffer size could be chosen equal to words bytes as for the buffer number it will determine the link utilization frequency ii interface table it is through this table that the network program informs the handler with the location and length of the emitting data this table could be a ring table with pointers one for filling the other for extracting they are respectively updated by the network and the handler program deloche page rfc host imp interface may length of the message contained in the buffer buffer addr nb bytes filling pointer v buffer addr nb bytes eetracting pointer buffer addr nb bytes v iii questions iii why is there not a simple control procedure between the host and the imp what happens if a message issued from the host reaches the imp with an error due to the transmission from the bbn specifications it appears that this error will be transmitted as far as the receiving host in that case must an host host control procedure be provided iii where will the special channel hardware unit be connected miop siop how will this device be notified of an outgoing message end in order to start the padding the program will provide to the miop siop the number of bytes of the outgoing message and will receive back an interrupt when the last byte is sent out is it that signal which will be also sent to the special device vice versa how does the handler know the length of the incoming message from the contents of the previous one or should this deloche page rfc host imp interface may program always ready to receive a message of maximum length then an interrupt should be triggered when the real end is detected by the hardware iii when does the gordo documentation will be available in order to design the user network program interface what are the mechanisms for program initiations transferring parameters from one program to another etc host sigma outside world users special standard v v v o output output imp o multiplex o input input imp o distribution hardware interface network handler program program fig deloche page rfc host imp interface may interface data logical information interface table interrupt v v v v o network handler progr progr o commands users pool of buffers user s interface hardware interface fig this rfc was put into machine readable form for entry into the online rfc archives by bob german lorrie shiota deloche page 