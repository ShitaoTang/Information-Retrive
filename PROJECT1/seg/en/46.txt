 network working group d walden request for comments bbn net nic august change to the very distant host specification attached is a new version of figure f for bbn report specification for the interconnection of a host and an imp also attached is replacement text for the paragraph beginning at the bottom of page f and continuing through page f please put this rfc with your copy of pending update of dcw ph special packet bit hello i heard you bit unused v v v v packet word count bits channel number packet host imp bit channel zero odd even bit acknowledge bit last packet bit channel one acknowledgement bit fig f control word format walden page rfc change to the very distant host specification august the following algorithm is used to decide whether the circuit between an imp and a very distant host is dead or alive we first define what we call a special packet this is logically a one word packet consisting of only the control word and having the special packet bit set to one all packets which are not special packets i e which are regular data packets or null packets have the special packet bit set to zero in a special packet none of the control word fields or bits have their usual meanings consequently a special packet cannot be used to acknowledge data packets or send data in a special packet only one bit other than the special packet bit has any meaning the hello i heard you bit every r seconds both imp and host independently send a hello packet a special packet with the hello i heard you bit set to zero when either imp or hosts receives a hello packet it must promptly with highest priority send the other an i heard you packet a special packet with the hello i hear you bit set to one in other words the i heard you packet is an acknowledgement of the periodic hello packet and a i heard you packet must only be sent as acknowledgement for a hello packet if either imp or host sends more than t hello packets without receiving an i heard you packet in acknowledgement the imp or host declares the line dead once either imp or host declares the line dead it must send or accept no packets either special or regular for t r seconds to allow the other party also to declare the line dead after waiting t r seconds an attempt is made to bring the line alive this is done by sending hello packets but no regular packets every r seconds while noting received i heard you packets until k hello packets in a row are acknowledged with i heard you packets while doing this received hello packets must be acknowledged with i heard you packets once acknowledgement for k hello packets have been received in a row i e one acknowledgement every r seconds for k intervals the line is declared alive and regular packets again may be sent received and acknowledged along with the periodic every r seconds hello packets if a regular data packet is received while a party is trying to bring the line up due perhaps to slight timing differences between the parties at the ends of the line the data packet must not be acknowledged the odd even bits the used unused bits and the channel filling and emptying sequences must be initialized at start up and reinitialized every time the line is declared dead if either the imp or host decides the line is dead the same action is taken as the imp or host normally takes when the other s ready line is down the line being up causes the same action as is normally taken when the ready line is up the value of r is currently seconds the value of t is currently and the value of k is currently also walden page rfc change to the very distant host specification august it is likely that the values of r t and k will be adjusted in the future very distant host programmers are advised to make it easy to change these parameters endnotes in particular the imp implementation requires the receipt of an acknowledgement within r seconds of the transmission of a hello packet in order to consider that the hello packet was successfully acknowledged at start up the line must be assumed to be dead and the procedure of waiting t r seconds before sending hello packets etc must be used to bring the line alive initially this rfc was put into machine readable form for entry into the online rfc archives by jeff mcclellan walden page 